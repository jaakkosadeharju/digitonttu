{"version":3,"sources":["webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/utils/cryptoSecureRandomInt.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/utils/WordArray.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/BigInteger.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/DateHelper.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/StorageHelper.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/CognitoUser.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/UserAgent.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/Client.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js","webpack://digitonttu/./node_modules/amazon-cognito-identity-js/es/CookieStorage.js","webpack://digitonttu/./node_modules/axios/index.js","webpack://digitonttu/./node_modules/axios/lib/adapters/xhr.js","webpack://digitonttu/./node_modules/axios/lib/axios.js","webpack://digitonttu/./node_modules/axios/lib/cancel/Cancel.js","webpack://digitonttu/./node_modules/axios/lib/cancel/CancelToken.js","webpack://digitonttu/./node_modules/axios/lib/cancel/isCancel.js","webpack://digitonttu/./node_modules/axios/lib/core/Axios.js","webpack://digitonttu/./node_modules/axios/lib/core/InterceptorManager.js","webpack://digitonttu/./node_modules/axios/lib/core/buildFullPath.js","webpack://digitonttu/./node_modules/axios/lib/core/createError.js","webpack://digitonttu/./node_modules/axios/lib/core/dispatchRequest.js","webpack://digitonttu/./node_modules/axios/lib/core/enhanceError.js","webpack://digitonttu/./node_modules/axios/lib/core/mergeConfig.js","webpack://digitonttu/./node_modules/axios/lib/core/settle.js","webpack://digitonttu/./node_modules/axios/lib/core/transformData.js","webpack://digitonttu/./node_modules/axios/lib/defaults.js","webpack://digitonttu/./node_modules/axios/lib/helpers/bind.js","webpack://digitonttu/./node_modules/axios/lib/helpers/buildURL.js","webpack://digitonttu/./node_modules/axios/lib/helpers/combineURLs.js","webpack://digitonttu/./node_modules/axios/lib/helpers/cookies.js","webpack://digitonttu/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://digitonttu/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://digitonttu/./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://digitonttu/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://digitonttu/./node_modules/axios/lib/helpers/spread.js","webpack://digitonttu/./node_modules/axios/lib/utils.js","webpack://digitonttu/./node_modules/base64-js/index.js","webpack://digitonttu/./node_modules/buffer/index.js","webpack://digitonttu/./node_modules/crypto-js/core.js","webpack://digitonttu/./node_modules/crypto-js/enc-base64.js","webpack://digitonttu/./node_modules/crypto-js/hmac-sha256.js","webpack://digitonttu/./node_modules/crypto-js/hmac.js","webpack://digitonttu/./node_modules/crypto-js/lib-typedarrays.js","webpack://digitonttu/./node_modules/crypto-js/sha256.js","webpack://digitonttu/./node_modules/ieee754/index.js","webpack://digitonttu/./node_modules/isarray/index.js","webpack://digitonttu/./node_modules/isomorphic-unfetch/browser.js","webpack://digitonttu/./node_modules/js-cookie/src/js.cookie.js","webpack://digitonttu/./node_modules/unfetch/dist/unfetch.module.js","webpack://digitonttu/webpack/bootstrap","webpack://digitonttu/webpack/runtime/compat get default export","webpack://digitonttu/webpack/runtime/define property getters","webpack://digitonttu/webpack/runtime/global","webpack://digitonttu/webpack/runtime/hasOwnProperty shorthand","webpack://digitonttu/webpack/runtime/make namespace object","webpack://digitonttu/./public/src/clock.ts","webpack://digitonttu/./public/src/dimensions.ts","webpack://digitonttu/./public/src/point.ts","webpack://digitonttu/./public/src/player.ts","webpack://digitonttu/./public/src/present.ts","webpack://digitonttu/./public/src/terrain.ts","webpack://digitonttu/./public/src/app-config.ts","webpack://digitonttu/./public/src/user-management.ts","webpack://digitonttu/./public/src/api.ts","webpack://digitonttu/./public/src/game.ts","webpack://digitonttu/./public/src/sounds.ts"],"names":["AuthenticationDetails","data","_ref","ValidationData","Username","Password","AuthParameters","ClientMetadata","this","validationData","authParameters","clientMetadata","username","password","_proto","prototype","getUsername","getPassword","getValidationData","getAuthParameters","getClientMetadata","window","crypto","msCrypto","g","err","cryptoSecureRandomInt","getRandomValues","Uint32Array","randomBytes","readInt32LE","Error","WordArray","words","sigBytes","undefined","length","random","nBytes","i","push","toString","wordArray","hexChars","bite","join","hexStringify","a","b","fromString","nbi","dbits","inBrowser","navigator","appName","am","x","w","j","c","n","xl","xh","l","h","m","v","Math","floor","DB","DM","DV","FV","pow","F1","F2","rr","vv","BI_RC","Array","charCodeAt","int2char","charAt","intAt","s","nbv","r","fromInt","nbits","t","Montgomery","mp","invDigit","mpl","mph","um","mt2","convert","abs","dlShiftTo","divRemTo","compareTo","ZERO","subTo","revert","copyTo","reduce","u0","clamp","drShiftTo","mulTo","y","multiplyTo","sqrTo","squareTo","k","mi","sh","max","lShiftTo","bs","cbs","bm","ds","rShiftTo","min","q","pm","pt","ts","ms","nsh","ys","y0","yt","d1","d2","e","ONE","qd","addTo","negate","d","km","p","bitLength","mod","equals","add","subtract","multiply","divide","modPow","callback","z","k1","g2","is1","r2","result","AuthenticationHelper","PoolName","N","BigInteger","hexHash","smallAValue","generateRandomSmallA","getLargeAValue","infoBits","poolName","getSmallAValue","_this","largeAValue","calculateA","hexRandom","generateRandomString","getRandomPassword","randomPassword","getSaltDevices","SaltToHashDevices","getVerifierDevices","verifierDevices","generateHashDevice","deviceGroupKey","_this2","combinedString","hashedString","hash","padHex","verifierDevicesNotPadded","_this3","A","calculateU","B","UHexHash","buf","str","hashHex","hexStr","computehkdf","ikm","salt","infoBitsWordArray","String","fromCharCode","ikmWordArray","saltWordArray","prk","hmac","slice","getPasswordAuthenticationKey","serverBValue","_this4","UValue","usernamePassword","usernamePasswordHash","xValue","calculateS","sValue","hkdf","_this5","gModPowXN","err2","getNewPasswordRequiredChallengeUserAttributePrefix","bigInt","hashStr","indexOf","CognitoJwtToken","token","jwtToken","payload","decodePayload","getJwtToken","getExpiration","exp","getIssuedAt","iat","split","JSON","parse","CognitoAccessToken","_CognitoJwtToken","subClass","superClass","_temp","AccessToken","call","Object","create","constructor","__proto__","CognitoIdToken","IdToken","CognitoRefreshToken","RefreshToken","getToken","CognitoUserSession","ClockDrift","idToken","refreshToken","accessToken","clockDrift","calculateClockDrift","getIdToken","getRefreshToken","getAccessToken","getClockDrift","Date","isValid","adjusted","monthNames","weekNames","DateHelper","getNowString","now","weekDay","getUTCDay","month","getUTCMonth","day","getUTCDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","getUTCFullYear","CognitoUserAttribute","Name","Value","getValue","setValue","value","getName","setName","name","stringify","toJSON","dataMemory","MemoryStorage","setItem","key","getItem","hasOwnProperty","removeItem","clear","StorageHelper","storageWindow","localStorage","exception","getStorage","userAgent","CognitoUser","Pool","pool","Session","client","signInUserSession","authenticationFlowType","storage","Storage","keyPrefix","getClientId","userDataKey","setSignInUserSession","clearCachedUserData","cacheTokens","getSignInUserSession","getAuthenticationFlowType","setAuthenticationFlowType","initiateAuth","authDetails","USERNAME","clientMetaData","keys","jsonReq","AuthFlow","ClientId","getUserContextData","UserContextData","request","onFailure","challengeName","ChallengeName","challengeParameters","ChallengeParameters","customChallenge","getCognitoUserSession","AuthenticationResult","onSuccess","authenticateUser","authenticateUserPlainUsernamePassword","authenticateUserDefaultAuth","authenticationHelper","getUserPoolId","dateHelper","deviceKey","DEVICE_KEY","errOnAValue","aValue","SRP_A","CHALLENGE_NAME","USER_ID_FOR_SRP","SRP_B","SALT","getCachedDeviceKeyAndPassword","errOnHkdf","dateNow","message","SECRET_BLOCK","signatureString","challengeResponses","PASSWORD_CLAIM_SECRET_BLOCK","TIMESTAMP","PASSWORD_CLAIM_SIGNATURE","jsonReqResp","ChallengeResponses","respondToAuthChallenge","challenge","challengeCallback","errChallenge","dataChallenge","code","toLowerCase","clearCachedDeviceKeyAndPassword","errAuthenticate","dataAuthenticate","authenticateUserInternal","PASSWORD","authResult","mfaRequired","selectMFAType","mfaSetup","totpRequired","userAttributes","rawRequiredAttributes","requiredAttributes","userAttributesPrefix","substr","newPasswordRequired","newDeviceMetadata","NewDeviceMetadata","DeviceGroupKey","DeviceKey","errGenHash","deviceSecretVerifierConfig","Salt","PasswordVerifier","DeviceSecretVerifierConfig","DeviceName","errConfirm","dataConfirm","cacheDeviceKeyAndPassword","UserConfirmationNecessary","getDeviceResponse","completeNewPasswordChallenge","newPassword","requiredAttributeData","finalUserAttributes","forEach","NEW_PASSWORD","_this6","errAValue","errHkdf","confirmRegistration","confirmationCode","forceAliasCreation","ConfirmationCode","ForceAliasCreation","sendCustomChallengeAnswer","answerChallenge","_this7","ANSWER","sendMFACode","mfaType","_this8","SMS_MFA_CODE","mfaTypeSelection","SOFTWARE_TOKEN_MFA_CODE","changePassword","oldUserPassword","newUserPassword","PreviousPassword","ProposedPassword","enableMFA","mfaOptions","DeliveryMedium","AttributeName","MFAOptions","setUserMfaPreference","smsMfaSettings","softwareTokenMfaSettings","SMSMfaSettings","SoftwareTokenMfaSettings","disableMFA","deleteUser","_this9","clearCachedUser","updateAttributes","attributes","_this10","UserAttributes","getUserData","bypassCache","getUserAttributes","userData","attributeList","attribute","userAttribute","getMFAOptions","createGetUserRequest","promisifyRequest","refreshSessionIfPossible","_this11","Promise","resolve","refresh","refreshSession","params","_this12","getUserDataFromCache","isFetchUserDataAndTokenRequired","fetchUserData","then","_ref$bypassCache","_this13","cacheUserData","deleteAttributes","UserAttributeNames","resendConfirmationCode","getSession","idTokenKey","accessTokenKey","refreshTokenKey","clockDriftKey","parseInt","cachedSession","_this14","wrappedCallback","wrapRefreshSessionCallback","REFRESH_TOKEN","lastUserKey","deviceKeyKey","authenticationResult","clearCachedTokens","randomPasswordKey","deviceGroupKeyKey","forgotPassword","inputVerificationCode","confirmPassword","getAttributeVerificationCode","attributeName","verifyAttribute","Code","getDevice","forgetSpecificDevice","forgetDevice","_this15","setDeviceStatusRemembered","DeviceRememberedStatus","setDeviceStatusNotRemembered","listDevices","limit","paginationToken","requestParams","Limit","PaginationToken","globalSignOut","_this16","signOut","sendMFASelectionAnswer","_this17","associateSoftwareToken","_this18","associateSecretCode","SecretCode","verifySoftwareToken","totpCode","friendlyDeviceName","_this19","UserCode","FriendlyDeviceName","errRespond","dataRespond","UserAgent","appendToCognitoUserAgent","content","includes","concat","_wrapNativeSuper","Class","_cache","Map","fn","Function","TypeError","has","get","set","Wrapper","_construct","arguments","_getPrototypeOf","enumerable","writable","configurable","_setPrototypeOf","Parent","args","_isNativeReflectConstruct","Reflect","construct","apply","instance","bind","sham","Proxy","o","setPrototypeOf","getPrototypeOf","CognitoError","_Error","statusCode","Client","region","endpoint","fetchOptions","credentials","operation","reject","response","headers","options","assign","method","mode","cache","body","fetch","resp","json","ok","__type","pop","error","Message","_error","status","ex","CognitoUserPool","UserPoolId","AdvancedSecurityDataCollectionFlag","test","userPoolId","clientId","advancedSecurityDataCollectionFlag","signUp","cognitoUser","returnData","user","userConfirmed","UserConfirmed","userSub","UserSub","codeDeliveryDetails","CodeDeliveryDetails","getCurrentUser","lastAuthUser","AmazonCognitoAdvancedSecurityData","amazonCognitoAdvancedSecurityDataConst","advancedSecurityData","getData","EncodedData","CookieStorage","domain","path","expires","secure","sameSite","index","cookies","module","exports","utils","settle","buildURL","buildFullPath","parseHeaders","isURLSameOrigin","createError","config","requestData","requestHeaders","isFormData","XMLHttpRequest","auth","unescape","encodeURIComponent","Authorization","btoa","fullPath","baseURL","url","open","toUpperCase","paramsSerializer","timeout","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","responseType","responseText","statusText","onabort","onerror","ontimeout","timeoutErrorMessage","isStandardBrowserEnv","xsrfValue","withCredentials","xsrfCookieName","read","xsrfHeaderName","val","setRequestHeader","isUndefined","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","cancel","abort","send","Axios","mergeConfig","createInstance","defaultConfig","context","extend","axios","instanceConfig","defaults","Cancel","CancelToken","isCancel","all","promises","spread","default","__CANCEL__","executor","resolvePromise","reason","throwIfRequested","source","InterceptorManager","dispatchRequest","interceptors","chain","interceptor","unshift","fulfilled","rejected","shift","getUri","replace","handlers","use","eject","id","isAbsoluteURL","combineURLs","requestedURL","enhanceError","transformData","throwIfCancellationRequested","transformRequest","merge","common","adapter","transformResponse","isAxiosError","description","number","fileName","lineNumber","columnNumber","stack","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","target","isPlainObject","isArray","mergeDeepProperties","prop","axiosKeys","otherKeys","filter","validateStatus","fns","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","process","isArrayBuffer","isBuffer","isStream","isFile","isBlob","isArrayBufferView","buffer","isURLSearchParams","isObject","maxContentLength","maxBodyLength","thisArg","encode","serializedParams","parts","isDate","toISOString","hashmarkIndex","relativeURL","write","cookie","isNumber","toGMTString","isString","document","match","RegExp","decodeURIComponent","remove","originURL","msie","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","search","hostname","port","pathname","location","requestURL","parsed","normalizedName","ignoreDuplicateOf","line","trim","arr","isFunction","obj","FormData","ArrayBuffer","isView","pipe","URLSearchParams","product","assignValue","stripBOM","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","len","revLookup","fromByteArray","uint8","extraBytes","maxChunkLength","len2","encodeChunk","lookup","Uint8Array","start","end","num","output","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","arg","encodingOrOffset","allocUnsafe","from","array","byteOffset","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","checked","copy","type","fromObject","assertSize","size","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","offset","Number","remaining","strLen","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","foo","subarray","typedArraySupport","poolSize","_augment","Symbol","species","defineProperty","alloc","fill","allocUnsafeSlow","_isBuffer","compare","list","pos","swap16","swap32","swap64","inspect","thisStart","thisEnd","thisCopy","targetCopy","isFinite","_arr","ret","out","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","Infinity","leadSurrogate","stringtrim","base64clean","src","dst","CryptoJS","F","subtype","C","C_lib","lib","Base","overrides","mixIn","init","$super","properties","propertyName","clone","encoder","Hex","thisWords","thatWords","thisSigBytes","thatSigBytes","thatByte","ceil","rcache","m_w","m_z","mask","_r","C_enc","enc","hexStrLength","Latin1","latin1Chars","latin1Str","latin1StrLength","Utf8","escape","utf8Str","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","doFlush","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","_minBufferSize","nBytesReady","_doProcessBlock","processedWords","splice","C_algo","Hasher","cfg","_doReset","update","messageUpdate","finalize","_doFinalize","_createHelper","hasher","_createHmacHelper","HMAC","algo","Base64","map","_map","base64Chars","triplet","paddingChar","base64Str","base64StrLength","reverseMap","_reverseMap","paddingIndex","bits1","bits2","parseLoop","HmacSHA256","_hasher","hasherBlockSize","hasherBlockSizeBytes","oKey","_oKey","iKey","_iKey","oKeyWords","iKeyWords","innerHash","superInit","typedArray","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Float32Array","Float64Array","typedArrayByteLength","H","K","isPrime","sqrtN","sqrt","factor","getFractionalBits","nPrime","W","SHA256","_hash","M","f","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","nBitsTotal","nBitsLeft","isLE","mLen","eLen","eMax","eBias","nBits","NaN","rt","log","LN2","self","factory","decode","converter","api","toUTCString","stringifiedAttributes","jar","getJSON","withConverter","u","text","blob","Blob","entries","onload","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","getter","__esModule","definition","globalThis","toStringTag","ctx","terrain","extensionVisible","extendTime","timeExtensions","time","draw","font","fillStyle","textAlign","formatted","round","toFixed","fillText","areaDimensions","width","height","getTime","timeLeft","distanceTo","point","dx","dy","canvas","startingPosition","Point","gravityScale","skiWidth","playerHeight","gravity","divingWeight","friction","onScreenX","position","longestJump","jumps","sort","highestPoint","minY","topSpeed","maxSpeed","ski","back","cos","angle","sin","front","velocityAngle","pos1","positionHistory","pos2","atan2","calculateFrame","dt","collectedPresents","lastPosition","getHeightAt","terrainHeight","terrainAngle","diving","velocity","jumpStartPos","onGround","speed","PI","atGround","handleDiveButtonPress","divePressed","hanldeDiveButtonRelease","getContext","addEventListeners","drawImage","image","scale","rotation","setTransform","rotate","drawImageCenter","cx","cy","player","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","getElementById","present","presentSlot","visible","preventDefault","classList","collected","handleRadius","handleStrokeWidth","maxVerticalHeight","minVerticalHeight","startDrag","identifier","draggingHandles","mouseCanvasPosition","offsetLeft","offsetWidth","offsetTop","offsetHeight","closestPoint","points","closest","moveTerrainHandle","endDrag","resetPoints","addMouseEventListeners","pointsWithControlPoint","pointsWithControlPoints","snow","createLinearGradient","addColorStop","bezierCurveTo","cp1","cp2","closePath","arc","getBezierXY","getBezierAngle","leftPoint","rightPoint","console","extrapolatedPoints","elem","pointsArr","prevX","clientX","clientY","touches","touch","targetTouches","item","changedTouches","AmazonCognitoIdentity","getLoginDetails","registerUser","email","nickname","poolData","userPool","dataEmail","dataNickname","attributeEmail","attributeNickname","login","authenticationData","authenticationDetails","loginDetails","userManagement","UserManagement","submitScore","score","stats","startTime","endTime","post","getTop100","innerHeight","innerWidth","presents","clock","areaHeight","areaWidth","gameExtraTime","highscore","gamesPlayed","sounds","mainVolume","gameVolume","fxVolume","startGameTune","gameTune","stopGameTune","Audio","loop","volume","enabled","play","stopTune","startMainTune","mainTune","stopMainTune","tune","setInterval","pause","clearInterval","playCollectSound","collectSound","toggleMute","Api","drawSky","bg","fillRect","setAreaDimensions","getElementsByTagName","style","updateHtmlTargets","innerText","updateSoundButton","soundButton","innerHTML","initGame","Terrain","Dimensions","Clock","Player","Present","clearRect","playerSize","timeIncrement","requestAnimationFrame","catch","setTimeout","onresize","onscroll","onclick","interval","t0","startGame","diveButton","rows","tbody","querySelector","row","tr","insertRow","Nickname","Score","EndDate","td","insertCell","appendChild","append"],"mappings":"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","file":"game-bundle.js","sourcesContent":["/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar AuthenticationDetails = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AuthenticationDetails object\n   * @param {object=} data Creation options.\n   * @param {string} data.Username User being authenticated.\n   * @param {string} data.Password Plain-text password to authenticate with.\n   * @param {(AttributeArg[])?} data.ValidationData Application extra metadata.\n   * @param {(AttributeArg[])?} data.AuthParamaters Authentication paramaters for custom auth.\n   */\n  function AuthenticationDetails(data) {\n    var _ref = data || {},\n        ValidationData = _ref.ValidationData,\n        Username = _ref.Username,\n        Password = _ref.Password,\n        AuthParameters = _ref.AuthParameters,\n        ClientMetadata = _ref.ClientMetadata;\n\n    this.validationData = ValidationData || {};\n    this.authParameters = AuthParameters || {};\n    this.clientMetadata = ClientMetadata || {};\n    this.username = Username;\n    this.password = Password;\n  }\n  /**\n   * @returns {string} the record's username\n   */\n\n\n  var _proto = AuthenticationDetails.prototype;\n\n  _proto.getUsername = function getUsername() {\n    return this.username;\n  }\n  /**\n   * @returns {string} the record's password\n   */\n  ;\n\n  _proto.getPassword = function getPassword() {\n    return this.password;\n  }\n  /**\n   * @returns {Array} the record's validationData\n   */\n  ;\n\n  _proto.getValidationData = function getValidationData() {\n    return this.validationData;\n  }\n  /**\n   * @returns {Array} the record's authParameters\n   */\n  ;\n\n  _proto.getAuthParameters = function getAuthParameters() {\n    return this.authParameters;\n  }\n  /**\n   * @returns {ClientMetadata} the clientMetadata for a Lambda trigger\n   */\n  ;\n\n  _proto.getClientMetadata = function getClientMetadata() {\n    return this.clientMetadata;\n  };\n\n  return AuthenticationDetails;\n}();\n\nexport { AuthenticationDetails as default };","var crypto; // Native crypto from window (Browser)\n\nif (typeof window !== 'undefined' && window.crypto) {\n  crypto = window.crypto;\n} // Native (experimental IE 11) crypto from window (Browser)\n\n\nif (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n  crypto = window.msCrypto;\n} // Native crypto from global (NodeJS)\n\n\nif (!crypto && typeof global !== 'undefined' && global.crypto) {\n  crypto = global.crypto;\n} // Native crypto import via require (NodeJS)\n\n\nif (!crypto && typeof require === 'function') {\n  try {\n    crypto = require('crypto');\n  } catch (err) {}\n}\n/*\n * Cryptographically secure pseudorandom number generator\n * As Math.random() is cryptographically not safe to use\n */\n\n\nexport default function cryptoSecureRandomInt() {\n  if (crypto) {\n    // Use getRandomValues method (Browser)\n    if (typeof crypto.getRandomValues === 'function') {\n      try {\n        return crypto.getRandomValues(new Uint32Array(1))[0];\n      } catch (err) {}\n    } // Use randomBytes method (NodeJS)\n\n\n    if (typeof crypto.randomBytes === 'function') {\n      try {\n        return crypto.randomBytes(4).readInt32LE();\n      } catch (err) {}\n    }\n  }\n\n  throw new Error('Native crypto module could not be used to get secure random number.');\n}","import cryptoSecureRandomInt from './cryptoSecureRandomInt';\n/**\n * Hex encoding strategy.\n * Converts a word array to a hex string.\n * @param {WordArray} wordArray The word array.\n * @return {string} The hex string.\n * @static\n */\n\nfunction hexStringify(wordArray) {\n  // Shortcuts\n  var words = wordArray.words;\n  var sigBytes = wordArray.sigBytes; // Convert\n\n  var hexChars = [];\n\n  for (var i = 0; i < sigBytes; i++) {\n    var bite = words[i >>> 2] >>> 24 - i % 4 * 8 & 0xff;\n    hexChars.push((bite >>> 4).toString(16));\n    hexChars.push((bite & 0x0f).toString(16));\n  }\n\n  return hexChars.join('');\n}\n\nvar WordArray = /*#__PURE__*/function () {\n  function WordArray(words, sigBytes) {\n    words = this.words = words || [];\n\n    if (sigBytes != undefined) {\n      this.sigBytes = sigBytes;\n    } else {\n      this.sigBytes = words.length * 4;\n    }\n  }\n\n  var _proto = WordArray.prototype;\n\n  _proto.random = function random(nBytes) {\n    var words = [];\n\n    for (var i = 0; i < nBytes; i += 4) {\n      words.push(cryptoSecureRandomInt());\n    }\n\n    return new WordArray(words, nBytes);\n  };\n\n  _proto.toString = function toString() {\n    return hexStringify(this);\n  };\n\n  return WordArray;\n}();\n\nexport { WordArray as default };","// A small implementation of BigInteger based on http://www-cs-students.stanford.edu/~tjw/jsbn/\n//\n// All public methods have been removed except the following:\n//   new BigInteger(a, b) (only radix 2, 4, 8, 16 and 32 supported)\n//   toString (only radix 2, 4, 8, 16 and 32 supported)\n//   negate\n//   abs\n//   compareTo\n//   bitLength\n//   mod\n//   equals\n//   add\n//   subtract\n//   multiply\n//   divide\n//   modPow\nexport default BigInteger;\n/*\n * Copyright (c) 2003-2005  Tom Wu\n * All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS-IS\" AND WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY\n * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n *\n * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,\n * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER\n * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF\n * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT\n * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * In addition, the following condition applies:\n *\n * All redistributions must retain an intact copy of this copyright notice\n * and disclaimer.\n */\n// (public) Constructor\n\nfunction BigInteger(a, b) {\n  if (a != null) this.fromString(a, b);\n} // return new, unset BigInteger\n\n\nfunction nbi() {\n  return new BigInteger(null);\n} // Bits per digit\n\n\nvar dbits; // JavaScript engine analysis\n\nvar canary = 0xdeadbeefcafe;\nvar j_lm = (canary & 0xffffff) == 0xefcafe; // am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\n\nfunction am1(i, x, w, j, c, n) {\n  while (--n >= 0) {\n    var v = x * this[i++] + w[j] + c;\n    c = Math.floor(v / 0x4000000);\n    w[j++] = v & 0x3ffffff;\n  }\n\n  return c;\n} // am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\n\n\nfunction am2(i, x, w, j, c, n) {\n  var xl = x & 0x7fff,\n      xh = x >> 15;\n\n  while (--n >= 0) {\n    var l = this[i] & 0x7fff;\n    var h = this[i++] >> 15;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n    c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n    w[j++] = l & 0x3fffffff;\n  }\n\n  return c;\n} // Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\n\n\nfunction am3(i, x, w, j, c, n) {\n  var xl = x & 0x3fff,\n      xh = x >> 14;\n\n  while (--n >= 0) {\n    var l = this[i] & 0x3fff;\n    var h = this[i++] >> 14;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n    c = (l >> 28) + (m >> 14) + xh * h;\n    w[j++] = l & 0xfffffff;\n  }\n\n  return c;\n}\n\nvar inBrowser = typeof navigator !== 'undefined';\n\nif (inBrowser && j_lm && navigator.appName == 'Microsoft Internet Explorer') {\n  BigInteger.prototype.am = am2;\n  dbits = 30;\n} else if (inBrowser && j_lm && navigator.appName != 'Netscape') {\n  BigInteger.prototype.am = am1;\n  dbits = 26;\n} else {\n  // Mozilla/Netscape seems to prefer am3\n  BigInteger.prototype.am = am3;\n  dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = (1 << dbits) - 1;\nBigInteger.prototype.DV = 1 << dbits;\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP; // Digit conversions\n\nvar BI_RM = '0123456789abcdefghijklmnopqrstuvwxyz';\nvar BI_RC = new Array();\nvar rr, vv;\nrr = '0'.charCodeAt(0);\n\nfor (vv = 0; vv <= 9; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nrr = 'a'.charCodeAt(0);\n\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nrr = 'A'.charCodeAt(0);\n\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nfunction int2char(n) {\n  return BI_RM.charAt(n);\n}\n\nfunction intAt(s, i) {\n  var c = BI_RC[s.charCodeAt(i)];\n  return c == null ? -1 : c;\n} // (protected) copy this to r\n\n\nfunction bnpCopyTo(r) {\n  for (var i = this.t - 1; i >= 0; --i) {\n    r[i] = this[i];\n  }\n\n  r.t = this.t;\n  r.s = this.s;\n} // (protected) set from integer value x, -DV <= x < DV\n\n\nfunction bnpFromInt(x) {\n  this.t = 1;\n  this.s = x < 0 ? -1 : 0;\n  if (x > 0) this[0] = x;else if (x < -1) this[0] = x + this.DV;else this.t = 0;\n} // return bigint initialized to value\n\n\nfunction nbv(i) {\n  var r = nbi();\n  r.fromInt(i);\n  return r;\n} // (protected) set from string and radix\n\n\nfunction bnpFromString(s, b) {\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n  this.t = 0;\n  this.s = 0;\n  var i = s.length,\n      mi = false,\n      sh = 0;\n\n  while (--i >= 0) {\n    var x = intAt(s, i);\n\n    if (x < 0) {\n      if (s.charAt(i) == '-') mi = true;\n      continue;\n    }\n\n    mi = false;\n    if (sh == 0) this[this.t++] = x;else if (sh + k > this.DB) {\n      this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;\n      this[this.t++] = x >> this.DB - sh;\n    } else this[this.t - 1] |= x << sh;\n    sh += k;\n    if (sh >= this.DB) sh -= this.DB;\n  }\n\n  this.clamp();\n  if (mi) BigInteger.ZERO.subTo(this, this);\n} // (protected) clamp off excess high words\n\n\nfunction bnpClamp() {\n  var c = this.s & this.DM;\n\n  while (this.t > 0 && this[this.t - 1] == c) {\n    --this.t;\n  }\n} // (public) return string representation in given radix\n\n\nfunction bnToString(b) {\n  if (this.s < 0) return '-' + this.negate().toString(b);\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n  var km = (1 << k) - 1,\n      d,\n      m = false,\n      r = '',\n      i = this.t;\n  var p = this.DB - i * this.DB % k;\n\n  if (i-- > 0) {\n    if (p < this.DB && (d = this[i] >> p) > 0) {\n      m = true;\n      r = int2char(d);\n    }\n\n    while (i >= 0) {\n      if (p < k) {\n        d = (this[i] & (1 << p) - 1) << k - p;\n        d |= this[--i] >> (p += this.DB - k);\n      } else {\n        d = this[i] >> (p -= k) & km;\n\n        if (p <= 0) {\n          p += this.DB;\n          --i;\n        }\n      }\n\n      if (d > 0) m = true;\n      if (m) r += int2char(d);\n    }\n  }\n\n  return m ? r : '0';\n} // (public) -this\n\n\nfunction bnNegate() {\n  var r = nbi();\n  BigInteger.ZERO.subTo(this, r);\n  return r;\n} // (public) |this|\n\n\nfunction bnAbs() {\n  return this.s < 0 ? this.negate() : this;\n} // (public) return + if this > a, - if this < a, 0 if equal\n\n\nfunction bnCompareTo(a) {\n  var r = this.s - a.s;\n  if (r != 0) return r;\n  var i = this.t;\n  r = i - a.t;\n  if (r != 0) return this.s < 0 ? -r : r;\n\n  while (--i >= 0) {\n    if ((r = this[i] - a[i]) != 0) return r;\n  }\n\n  return 0;\n} // returns bit length of the integer x\n\n\nfunction nbits(x) {\n  var r = 1,\n      t;\n\n  if ((t = x >>> 16) != 0) {\n    x = t;\n    r += 16;\n  }\n\n  if ((t = x >> 8) != 0) {\n    x = t;\n    r += 8;\n  }\n\n  if ((t = x >> 4) != 0) {\n    x = t;\n    r += 4;\n  }\n\n  if ((t = x >> 2) != 0) {\n    x = t;\n    r += 2;\n  }\n\n  if ((t = x >> 1) != 0) {\n    x = t;\n    r += 1;\n  }\n\n  return r;\n} // (public) return the number of bits in \"this\"\n\n\nfunction bnBitLength() {\n  if (this.t <= 0) return 0;\n  return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);\n} // (protected) r = this << n*DB\n\n\nfunction bnpDLShiftTo(n, r) {\n  var i;\n\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + n] = this[i];\n  }\n\n  for (i = n - 1; i >= 0; --i) {\n    r[i] = 0;\n  }\n\n  r.t = this.t + n;\n  r.s = this.s;\n} // (protected) r = this >> n*DB\n\n\nfunction bnpDRShiftTo(n, r) {\n  for (var i = n; i < this.t; ++i) {\n    r[i - n] = this[i];\n  }\n\n  r.t = Math.max(this.t - n, 0);\n  r.s = this.s;\n} // (protected) r = this << n\n\n\nfunction bnpLShiftTo(n, r) {\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << cbs) - 1;\n  var ds = Math.floor(n / this.DB),\n      c = this.s << bs & this.DM,\n      i;\n\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + ds + 1] = this[i] >> cbs | c;\n    c = (this[i] & bm) << bs;\n  }\n\n  for (i = ds - 1; i >= 0; --i) {\n    r[i] = 0;\n  }\n\n  r[ds] = c;\n  r.t = this.t + ds + 1;\n  r.s = this.s;\n  r.clamp();\n} // (protected) r = this >> n\n\n\nfunction bnpRShiftTo(n, r) {\n  r.s = this.s;\n  var ds = Math.floor(n / this.DB);\n\n  if (ds >= this.t) {\n    r.t = 0;\n    return;\n  }\n\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << bs) - 1;\n  r[0] = this[ds] >> bs;\n\n  for (var i = ds + 1; i < this.t; ++i) {\n    r[i - ds - 1] |= (this[i] & bm) << cbs;\n    r[i - ds] = this[i] >> bs;\n  }\n\n  if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n  r.t = this.t - ds;\n  r.clamp();\n} // (protected) r = this - a\n\n\nfunction bnpSubTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n\n  while (i < m) {\n    c += this[i] - a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n\n  if (a.t < this.t) {\n    c -= a.s;\n\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += this.s;\n  } else {\n    c += this.s;\n\n    while (i < a.t) {\n      c -= a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c -= a.s;\n  }\n\n  r.s = c < 0 ? -1 : 0;\n  if (c < -1) r[i++] = this.DV + c;else if (c > 0) r[i++] = c;\n  r.t = i;\n  r.clamp();\n} // (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\n\n\nfunction bnpMultiplyTo(a, r) {\n  var x = this.abs(),\n      y = a.abs();\n  var i = x.t;\n  r.t = i + y.t;\n\n  while (--i >= 0) {\n    r[i] = 0;\n  }\n\n  for (i = 0; i < y.t; ++i) {\n    r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n  }\n\n  r.s = 0;\n  r.clamp();\n  if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n} // (protected) r = this^2, r != this (HAC 14.16)\n\n\nfunction bnpSquareTo(r) {\n  var x = this.abs();\n  var i = r.t = 2 * x.t;\n\n  while (--i >= 0) {\n    r[i] = 0;\n  }\n\n  for (i = 0; i < x.t - 1; ++i) {\n    var c = x.am(i, x[i], r, 2 * i, 0, 1);\n\n    if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n      r[i + x.t] -= x.DV;\n      r[i + x.t + 1] = 1;\n    }\n  }\n\n  if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n  r.s = 0;\n  r.clamp();\n} // (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\n\n\nfunction bnpDivRemTo(m, q, r) {\n  var pm = m.abs();\n  if (pm.t <= 0) return;\n  var pt = this.abs();\n\n  if (pt.t < pm.t) {\n    if (q != null) q.fromInt(0);\n    if (r != null) this.copyTo(r);\n    return;\n  }\n\n  if (r == null) r = nbi();\n  var y = nbi(),\n      ts = this.s,\n      ms = m.s;\n  var nsh = this.DB - nbits(pm[pm.t - 1]); // normalize modulus\n\n  if (nsh > 0) {\n    pm.lShiftTo(nsh, y);\n    pt.lShiftTo(nsh, r);\n  } else {\n    pm.copyTo(y);\n    pt.copyTo(r);\n  }\n\n  var ys = y.t;\n  var y0 = y[ys - 1];\n  if (y0 == 0) return;\n  var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);\n  var d1 = this.FV / yt,\n      d2 = (1 << this.F1) / yt,\n      e = 1 << this.F2;\n  var i = r.t,\n      j = i - ys,\n      t = q == null ? nbi() : q;\n  y.dlShiftTo(j, t);\n\n  if (r.compareTo(t) >= 0) {\n    r[r.t++] = 1;\n    r.subTo(t, r);\n  }\n\n  BigInteger.ONE.dlShiftTo(ys, t);\n  t.subTo(y, y); // \"negative\" y so we can replace sub with am later\n\n  while (y.t < ys) {\n    y[y.t++] = 0;\n  }\n\n  while (--j >= 0) {\n    // Estimate quotient digit\n    var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n\n    if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\n      // Try it out\n      y.dlShiftTo(j, t);\n      r.subTo(t, r);\n\n      while (r[i] < --qd) {\n        r.subTo(t, r);\n      }\n    }\n  }\n\n  if (q != null) {\n    r.drShiftTo(ys, q);\n    if (ts != ms) BigInteger.ZERO.subTo(q, q);\n  }\n\n  r.t = ys;\n  r.clamp();\n  if (nsh > 0) r.rShiftTo(nsh, r); // Denormalize remainder\n\n  if (ts < 0) BigInteger.ZERO.subTo(r, r);\n} // (public) this mod a\n\n\nfunction bnMod(a) {\n  var r = nbi();\n  this.abs().divRemTo(a, null, r);\n  if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n  return r;\n} // (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\n\n\nfunction bnpInvDigit() {\n  if (this.t < 1) return 0;\n  var x = this[0];\n  if ((x & 1) == 0) return 0;\n  var y = x & 3; // y == 1/x mod 2^2\n\n  y = y * (2 - (x & 0xf) * y) & 0xf; // y == 1/x mod 2^4\n\n  y = y * (2 - (x & 0xff) * y) & 0xff; // y == 1/x mod 2^8\n\n  y = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff; // y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly;\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n\n  y = y * (2 - x * y % this.DV) % this.DV; // y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV < y < DV\n\n  return y > 0 ? this.DV - y : -y;\n}\n\nfunction bnEquals(a) {\n  return this.compareTo(a) == 0;\n} // (protected) r = this + a\n\n\nfunction bnpAddTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n\n  while (i < m) {\n    c += this[i] + a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n\n  if (a.t < this.t) {\n    c += a.s;\n\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += this.s;\n  } else {\n    c += this.s;\n\n    while (i < a.t) {\n      c += a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += a.s;\n  }\n\n  r.s = c < 0 ? -1 : 0;\n  if (c > 0) r[i++] = c;else if (c < -1) r[i++] = this.DV + c;\n  r.t = i;\n  r.clamp();\n} // (public) this + a\n\n\nfunction bnAdd(a) {\n  var r = nbi();\n  this.addTo(a, r);\n  return r;\n} // (public) this - a\n\n\nfunction bnSubtract(a) {\n  var r = nbi();\n  this.subTo(a, r);\n  return r;\n} // (public) this * a\n\n\nfunction bnMultiply(a) {\n  var r = nbi();\n  this.multiplyTo(a, r);\n  return r;\n} // (public) this / a\n\n\nfunction bnDivide(a) {\n  var r = nbi();\n  this.divRemTo(a, r, null);\n  return r;\n} // Montgomery reduction\n\n\nfunction Montgomery(m) {\n  this.m = m;\n  this.mp = m.invDigit();\n  this.mpl = this.mp & 0x7fff;\n  this.mph = this.mp >> 15;\n  this.um = (1 << m.DB - 15) - 1;\n  this.mt2 = 2 * m.t;\n} // xR mod m\n\n\nfunction montConvert(x) {\n  var r = nbi();\n  x.abs().dlShiftTo(this.m.t, r);\n  r.divRemTo(this.m, null, r);\n  if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n  return r;\n} // x/R mod m\n\n\nfunction montRevert(x) {\n  var r = nbi();\n  x.copyTo(r);\n  this.reduce(r);\n  return r;\n} // x = x/R mod m (HAC 14.32)\n\n\nfunction montReduce(x) {\n  while (x.t <= this.mt2) {\n    // pad x so am has enough room later\n    x[x.t++] = 0;\n  }\n\n  for (var i = 0; i < this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i] & 0x7fff;\n    var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM; // use am to combine the multiply-shift-add into one call\n\n    j = i + this.m.t;\n    x[j] += this.m.am(0, u0, x, i, 0, this.m.t); // propagate carry\n\n    while (x[j] >= x.DV) {\n      x[j] -= x.DV;\n      x[++j]++;\n    }\n  }\n\n  x.clamp();\n  x.drShiftTo(this.m.t, x);\n  if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n} // r = \"x^2/R mod m\"; x != r\n\n\nfunction montSqrTo(x, r) {\n  x.squareTo(r);\n  this.reduce(r);\n} // r = \"xy/R mod m\"; x,y != r\n\n\nfunction montMulTo(x, y, r) {\n  x.multiplyTo(y, r);\n  this.reduce(r);\n}\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo; // (public) this^e % m (HAC 14.85)\n\nfunction bnModPow(e, m, callback) {\n  var i = e.bitLength(),\n      k,\n      r = nbv(1),\n      z = new Montgomery(m);\n  if (i <= 0) return r;else if (i < 18) k = 1;else if (i < 48) k = 3;else if (i < 144) k = 4;else if (i < 768) k = 5;else k = 6; // precomputation\n\n  var g = new Array(),\n      n = 3,\n      k1 = k - 1,\n      km = (1 << k) - 1;\n  g[1] = z.convert(this);\n\n  if (k > 1) {\n    var g2 = nbi();\n    z.sqrTo(g[1], g2);\n\n    while (n <= km) {\n      g[n] = nbi();\n      z.mulTo(g2, g[n - 2], g[n]);\n      n += 2;\n    }\n  }\n\n  var j = e.t - 1,\n      w,\n      is1 = true,\n      r2 = nbi(),\n      t;\n  i = nbits(e[j]) - 1;\n\n  while (j >= 0) {\n    if (i >= k1) w = e[j] >> i - k1 & km;else {\n      w = (e[j] & (1 << i + 1) - 1) << k1 - i;\n      if (j > 0) w |= e[j - 1] >> this.DB + i - k1;\n    }\n    n = k;\n\n    while ((w & 1) == 0) {\n      w >>= 1;\n      --n;\n    }\n\n    if ((i -= n) < 0) {\n      i += this.DB;\n      --j;\n    }\n\n    if (is1) {\n      // ret == 1, don't bother squaring or multiplying it\n      g[w].copyTo(r);\n      is1 = false;\n    } else {\n      while (n > 1) {\n        z.sqrTo(r, r2);\n        z.sqrTo(r2, r);\n        n -= 2;\n      }\n\n      if (n > 0) z.sqrTo(r, r2);else {\n        t = r;\n        r = r2;\n        r2 = t;\n      }\n      z.mulTo(r2, g[w], r);\n    }\n\n    while (j >= 0 && (e[j] & 1 << i) == 0) {\n      z.sqrTo(r, r2);\n      t = r;\n      r = r2;\n      r2 = t;\n\n      if (--i < 0) {\n        i = this.DB - 1;\n        --j;\n      }\n    }\n  }\n\n  var result = z.revert(r);\n  callback(null, result);\n  return result;\n} // protected\n\n\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.addTo = bnpAddTo; // public\n\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.modPow = bnModPow; // \"constants\"\n\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Buffer } from 'buffer';\nimport CryptoJS from 'crypto-js/core';\nimport 'crypto-js/lib-typedarrays'; // necessary for crypto js\n\nimport SHA256 from 'crypto-js/sha256';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\nimport WordArray from './utils/WordArray';\n\nvar randomBytes = function randomBytes(nBytes) {\n  return Buffer.from(new WordArray().random(nBytes).toString(), 'hex');\n};\n\nimport BigInteger from './BigInteger';\nvar initN = 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD1' + '29024E088A67CC74020BBEA63B139B22514A08798E3404DD' + 'EF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245' + 'E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7ED' + 'EE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3D' + 'C2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F' + '83655D23DCA3AD961C62F356208552BB9ED529077096966D' + '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3B' + 'E39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9' + 'DE2BCBF6955817183995497CEA956AE515D2261898FA0510' + '15728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64' + 'ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7' + 'ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6B' + 'F12FFA06D98A0864D87602733EC86A64521F2B18177B200C' + 'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB31' + '43DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF';\nvar newPasswordRequiredChallengeUserAttributePrefix = 'userAttributes.';\n/** @class */\n\nvar AuthenticationHelper = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AuthenticationHelper object\n   * @param {string} PoolName Cognito user pool name.\n   */\n  function AuthenticationHelper(PoolName) {\n    this.N = new BigInteger(initN, 16);\n    this.g = new BigInteger('2', 16);\n    this.k = new BigInteger(this.hexHash(\"00\" + this.N.toString(16) + \"0\" + this.g.toString(16)), 16);\n    this.smallAValue = this.generateRandomSmallA();\n    this.getLargeAValue(function () {});\n    this.infoBits = Buffer.from('Caldera Derived Key', 'utf8');\n    this.poolName = PoolName;\n  }\n  /**\n   * @returns {BigInteger} small A, a random number\n   */\n\n\n  var _proto = AuthenticationHelper.prototype;\n\n  _proto.getSmallAValue = function getSmallAValue() {\n    return this.smallAValue;\n  }\n  /**\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   */\n  ;\n\n  _proto.getLargeAValue = function getLargeAValue(callback) {\n    var _this = this;\n\n    if (this.largeAValue) {\n      callback(null, this.largeAValue);\n    } else {\n      this.calculateA(this.smallAValue, function (err, largeAValue) {\n        if (err) {\n          callback(err, null);\n        }\n\n        _this.largeAValue = largeAValue;\n        callback(null, _this.largeAValue);\n      });\n    }\n  }\n  /**\n   * helper function to generate a random big integer\n   * @returns {BigInteger} a random value.\n   * @private\n   */\n  ;\n\n  _proto.generateRandomSmallA = function generateRandomSmallA() {\n    var hexRandom = randomBytes(128).toString('hex');\n    var randomBigInt = new BigInteger(hexRandom, 16);\n    var smallABigInt = randomBigInt.mod(this.N);\n    return smallABigInt;\n  }\n  /**\n   * helper function to generate a random string\n   * @returns {string} a random value.\n   * @private\n   */\n  ;\n\n  _proto.generateRandomString = function generateRandomString() {\n    return randomBytes(40).toString('base64');\n  }\n  /**\n   * @returns {string} Generated random value included in password hash.\n   */\n  ;\n\n  _proto.getRandomPassword = function getRandomPassword() {\n    return this.randomPassword;\n  }\n  /**\n   * @returns {string} Generated random value included in devices hash.\n   */\n  ;\n\n  _proto.getSaltDevices = function getSaltDevices() {\n    return this.SaltToHashDevices;\n  }\n  /**\n   * @returns {string} Value used to verify devices.\n   */\n  ;\n\n  _proto.getVerifierDevices = function getVerifierDevices() {\n    return this.verifierDevices;\n  }\n  /**\n   * Generate salts and compute verifier.\n   * @param {string} deviceGroupKey Devices to generate verifier for.\n   * @param {string} username User to generate verifier for.\n   * @param {nodeCallback<null>} callback Called with (err, null)\n   * @returns {void}\n   */\n  ;\n\n  _proto.generateHashDevice = function generateHashDevice(deviceGroupKey, username, callback) {\n    var _this2 = this;\n\n    this.randomPassword = this.generateRandomString();\n    var combinedString = \"\" + deviceGroupKey + username + \":\" + this.randomPassword;\n    var hashedString = this.hash(combinedString);\n    var hexRandom = randomBytes(16).toString('hex');\n    this.SaltToHashDevices = this.padHex(new BigInteger(hexRandom, 16));\n    this.g.modPow(new BigInteger(this.hexHash(this.SaltToHashDevices + hashedString), 16), this.N, function (err, verifierDevicesNotPadded) {\n      if (err) {\n        callback(err, null);\n      }\n\n      _this2.verifierDevices = _this2.padHex(verifierDevicesNotPadded);\n      callback(null, null);\n    });\n  }\n  /**\n   * Calculate the client's public value A = g^a%N\n   * with the generated random number a\n   * @param {BigInteger} a Randomly generated small A.\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   * @private\n   */\n  ;\n\n  _proto.calculateA = function calculateA(a, callback) {\n    var _this3 = this;\n\n    this.g.modPow(a, this.N, function (err, A) {\n      if (err) {\n        callback(err, null);\n      }\n\n      if (A.mod(_this3.N).equals(BigInteger.ZERO)) {\n        callback(new Error('Illegal paramater. A mod N cannot be 0.'), null);\n      }\n\n      callback(null, A);\n    });\n  }\n  /**\n   * Calculate the client's value U which is the hash of A and B\n   * @param {BigInteger} A Large A value.\n   * @param {BigInteger} B Server B value.\n   * @returns {BigInteger} Computed U value.\n   * @private\n   */\n  ;\n\n  _proto.calculateU = function calculateU(A, B) {\n    this.UHexHash = this.hexHash(this.padHex(A) + this.padHex(B));\n    var finalU = new BigInteger(this.UHexHash, 16);\n    return finalU;\n  }\n  /**\n   * Calculate a hash from a bitArray\n   * @param {Buffer} buf Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n  ;\n\n  _proto.hash = function hash(buf) {\n    var str = buf instanceof Buffer ? CryptoJS.lib.WordArray.create(buf) : buf;\n    var hashHex = SHA256(str).toString();\n    return new Array(64 - hashHex.length).join('0') + hashHex;\n  }\n  /**\n   * Calculate a hash from a hex string\n   * @param {String} hexStr Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n  ;\n\n  _proto.hexHash = function hexHash(hexStr) {\n    return this.hash(Buffer.from(hexStr, 'hex'));\n  }\n  /**\n   * Standard hkdf algorithm\n   * @param {Buffer} ikm Input key material.\n   * @param {Buffer} salt Salt value.\n   * @returns {Buffer} Strong key material.\n   * @private\n   */\n  ;\n\n  _proto.computehkdf = function computehkdf(ikm, salt) {\n    var infoBitsWordArray = CryptoJS.lib.WordArray.create(Buffer.concat([this.infoBits, Buffer.from(String.fromCharCode(1), 'utf8')]));\n    var ikmWordArray = ikm instanceof Buffer ? CryptoJS.lib.WordArray.create(ikm) : ikm;\n    var saltWordArray = salt instanceof Buffer ? CryptoJS.lib.WordArray.create(salt) : salt;\n    var prk = HmacSHA256(ikmWordArray, saltWordArray);\n    var hmac = HmacSHA256(infoBitsWordArray, prk);\n    return Buffer.from(hmac.toString(), 'hex').slice(0, 16);\n  }\n  /**\n   * Calculates the final hkdf based on computed S value, and computed U value and the key\n   * @param {String} username Username.\n   * @param {String} password Password.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {BigInteger} salt Generated salt.\n   * @param {nodeCallback<Buffer>} callback Called with (err, hkdfValue)\n   * @returns {void}\n   */\n  ;\n\n  _proto.getPasswordAuthenticationKey = function getPasswordAuthenticationKey(username, password, serverBValue, salt, callback) {\n    var _this4 = this;\n\n    if (serverBValue.mod(this.N).equals(BigInteger.ZERO)) {\n      throw new Error('B cannot be zero.');\n    }\n\n    this.UValue = this.calculateU(this.largeAValue, serverBValue);\n\n    if (this.UValue.equals(BigInteger.ZERO)) {\n      throw new Error('U cannot be zero.');\n    }\n\n    var usernamePassword = \"\" + this.poolName + username + \":\" + password;\n    var usernamePasswordHash = this.hash(usernamePassword);\n    var xValue = new BigInteger(this.hexHash(this.padHex(salt) + usernamePasswordHash), 16);\n    this.calculateS(xValue, serverBValue, function (err, sValue) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var hkdf = _this4.computehkdf(Buffer.from(_this4.padHex(sValue), 'hex'), Buffer.from(_this4.padHex(_this4.UValue.toString(16)), 'hex'));\n\n      callback(null, hkdf);\n    });\n  }\n  /**\n   * Calculates the S value used in getPasswordAuthenticationKey\n   * @param {BigInteger} xValue Salted password hash value.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.calculateS = function calculateS(xValue, serverBValue, callback) {\n    var _this5 = this;\n\n    this.g.modPow(xValue, this.N, function (err, gModPowXN) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var intValue2 = serverBValue.subtract(_this5.k.multiply(gModPowXN));\n      intValue2.modPow(_this5.smallAValue.add(_this5.UValue.multiply(xValue)), _this5.N, function (err2, result) {\n        if (err2) {\n          callback(err2, null);\n        }\n\n        callback(null, result.mod(_this5.N));\n      });\n    });\n  }\n  /**\n   * Return constant newPasswordRequiredChallengeUserAttributePrefix\n   * @return {newPasswordRequiredChallengeUserAttributePrefix} constant prefix value\n   */\n  ;\n\n  _proto.getNewPasswordRequiredChallengeUserAttributePrefix = function getNewPasswordRequiredChallengeUserAttributePrefix() {\n    return newPasswordRequiredChallengeUserAttributePrefix;\n  }\n  /**\n   * Converts a BigInteger (or hex string) to hex format padded with zeroes for hashing\n   * @param {BigInteger|String} bigInt Number or string to pad.\n   * @returns {String} Padded hex string.\n   */\n  ;\n\n  _proto.padHex = function padHex(bigInt) {\n    var hashStr = bigInt.toString(16);\n\n    if (hashStr.length % 2 === 1) {\n      hashStr = \"0\" + hashStr;\n    } else if ('89ABCDEFabcdef'.indexOf(hashStr[0]) !== -1) {\n      hashStr = \"00\" + hashStr;\n    }\n\n    return hashStr;\n  };\n\n  return AuthenticationHelper;\n}();\n\nexport { AuthenticationHelper as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Buffer } from 'buffer';\n/** @class */\n\nvar CognitoJwtToken = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoJwtToken object\n   * @param {string=} token The JWT token.\n   */\n  function CognitoJwtToken(token) {\n    // Assign object\n    this.jwtToken = token || '';\n    this.payload = this.decodePayload();\n  }\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  var _proto = CognitoJwtToken.prototype;\n\n  _proto.getJwtToken = function getJwtToken() {\n    return this.jwtToken;\n  }\n  /**\n   * @returns {int} the token's expiration (exp member).\n   */\n  ;\n\n  _proto.getExpiration = function getExpiration() {\n    return this.payload.exp;\n  }\n  /**\n   * @returns {int} the token's \"issued at\" (iat member).\n   */\n  ;\n\n  _proto.getIssuedAt = function getIssuedAt() {\n    return this.payload.iat;\n  }\n  /**\n   * @returns {object} the token's payload.\n   */\n  ;\n\n  _proto.decodePayload = function decodePayload() {\n    var payload = this.jwtToken.split('.')[1];\n\n    try {\n      return JSON.parse(Buffer.from(payload, 'base64').toString('utf8'));\n    } catch (err) {\n      return {};\n    }\n  };\n\n  return CognitoJwtToken;\n}();\n\nexport { CognitoJwtToken as default };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport CognitoJwtToken from './CognitoJwtToken';\n/** @class */\n\nvar CognitoAccessToken = /*#__PURE__*/function (_CognitoJwtToken) {\n  _inheritsLoose(CognitoAccessToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoAccessToken object\n   * @param {string=} AccessToken The JWT access token.\n   */\n  function CognitoAccessToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        AccessToken = _ref.AccessToken;\n\n    return _CognitoJwtToken.call(this, AccessToken || '') || this;\n  }\n\n  return CognitoAccessToken;\n}(CognitoJwtToken);\n\nexport { CognitoAccessToken as default };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport CognitoJwtToken from './CognitoJwtToken';\n/** @class */\n\nvar CognitoIdToken = /*#__PURE__*/function (_CognitoJwtToken) {\n  _inheritsLoose(CognitoIdToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoIdToken object\n   * @param {string=} IdToken The JWT Id token\n   */\n  function CognitoIdToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        IdToken = _ref.IdToken;\n\n    return _CognitoJwtToken.call(this, IdToken || '') || this;\n  }\n\n  return CognitoIdToken;\n}(CognitoJwtToken);\n\nexport { CognitoIdToken as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoRefreshToken = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoRefreshToken object\n   * @param {string=} RefreshToken The JWT refresh token.\n   */\n  function CognitoRefreshToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        RefreshToken = _ref.RefreshToken;\n\n    // Assign object\n    this.token = RefreshToken || '';\n  }\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  var _proto = CognitoRefreshToken.prototype;\n\n  _proto.getToken = function getToken() {\n    return this.token;\n  };\n\n  return CognitoRefreshToken;\n}();\n\nexport { CognitoRefreshToken as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserSession = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserSession object\n   * @param {CognitoIdToken} IdToken The session's Id token.\n   * @param {CognitoRefreshToken=} RefreshToken The session's refresh token.\n   * @param {CognitoAccessToken} AccessToken The session's access token.\n   * @param {int} ClockDrift The saved computer's clock drift or undefined to force calculation.\n   */\n  function CognitoUserSession(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        IdToken = _ref.IdToken,\n        RefreshToken = _ref.RefreshToken,\n        AccessToken = _ref.AccessToken,\n        ClockDrift = _ref.ClockDrift;\n\n    if (AccessToken == null || IdToken == null) {\n      throw new Error('Id token and Access Token must be present.');\n    }\n\n    this.idToken = IdToken;\n    this.refreshToken = RefreshToken;\n    this.accessToken = AccessToken;\n    this.clockDrift = ClockDrift === undefined ? this.calculateClockDrift() : ClockDrift;\n  }\n  /**\n   * @returns {CognitoIdToken} the session's Id token\n   */\n\n\n  var _proto = CognitoUserSession.prototype;\n\n  _proto.getIdToken = function getIdToken() {\n    return this.idToken;\n  }\n  /**\n   * @returns {CognitoRefreshToken} the session's refresh token\n   */\n  ;\n\n  _proto.getRefreshToken = function getRefreshToken() {\n    return this.refreshToken;\n  }\n  /**\n   * @returns {CognitoAccessToken} the session's access token\n   */\n  ;\n\n  _proto.getAccessToken = function getAccessToken() {\n    return this.accessToken;\n  }\n  /**\n   * @returns {int} the session's clock drift\n   */\n  ;\n\n  _proto.getClockDrift = function getClockDrift() {\n    return this.clockDrift;\n  }\n  /**\n   * @returns {int} the computer's clock drift\n   */\n  ;\n\n  _proto.calculateClockDrift = function calculateClockDrift() {\n    var now = Math.floor(new Date() / 1000);\n    var iat = Math.min(this.accessToken.getIssuedAt(), this.idToken.getIssuedAt());\n    return now - iat;\n  }\n  /**\n   * Checks to see if the session is still valid based on session expiry information found\n   * in tokens and the current time (adjusted with clock drift)\n   * @returns {boolean} if the session is still valid\n   */\n  ;\n\n  _proto.isValid = function isValid() {\n    var now = Math.floor(new Date() / 1000);\n    var adjusted = now - this.clockDrift;\n    return adjusted < this.accessToken.getExpiration() && adjusted < this.idToken.getExpiration();\n  };\n\n  return CognitoUserSession;\n}();\n\nexport { CognitoUserSession as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nvar monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar weekNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n/** @class */\n\nvar DateHelper = /*#__PURE__*/function () {\n  function DateHelper() {}\n\n  var _proto = DateHelper.prototype;\n\n  /**\n   * @returns {string} The current time in \"ddd MMM D HH:mm:ss UTC YYYY\" format.\n   */\n  _proto.getNowString = function getNowString() {\n    var now = new Date();\n    var weekDay = weekNames[now.getUTCDay()];\n    var month = monthNames[now.getUTCMonth()];\n    var day = now.getUTCDate();\n    var hours = now.getUTCHours();\n\n    if (hours < 10) {\n      hours = \"0\" + hours;\n    }\n\n    var minutes = now.getUTCMinutes();\n\n    if (minutes < 10) {\n      minutes = \"0\" + minutes;\n    }\n\n    var seconds = now.getUTCSeconds();\n\n    if (seconds < 10) {\n      seconds = \"0\" + seconds;\n    }\n\n    var year = now.getUTCFullYear(); // ddd MMM D HH:mm:ss UTC YYYY\n\n    var dateNow = weekDay + \" \" + month + \" \" + day + \" \" + hours + \":\" + minutes + \":\" + seconds + \" UTC \" + year;\n    return dateNow;\n  };\n\n  return DateHelper;\n}();\n\nexport { DateHelper as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserAttribute = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserAttribute object\n   * @param {string=} Name The record's name\n   * @param {string=} Value The record's value\n   */\n  function CognitoUserAttribute(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        Name = _ref.Name,\n        Value = _ref.Value;\n\n    this.Name = Name || '';\n    this.Value = Value || '';\n  }\n  /**\n   * @returns {string} the record's value.\n   */\n\n\n  var _proto = CognitoUserAttribute.prototype;\n\n  _proto.getValue = function getValue() {\n    return this.Value;\n  }\n  /**\n   * Sets the record's value.\n   * @param {string} value The new value.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n  ;\n\n  _proto.setValue = function setValue(value) {\n    this.Value = value;\n    return this;\n  }\n  /**\n   * @returns {string} the record's name.\n   */\n  ;\n\n  _proto.getName = function getName() {\n    return this.Name;\n  }\n  /**\n   * Sets the record's name\n   * @param {string} name The new name.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n  ;\n\n  _proto.setName = function setName(name) {\n    this.Name = name;\n    return this;\n  }\n  /**\n   * @returns {string} a string representation of the record.\n   */\n  ;\n\n  _proto.toString = function toString() {\n    return JSON.stringify(this);\n  }\n  /**\n   * @returns {object} a flat object representing the record.\n   */\n  ;\n\n  _proto.toJSON = function toJSON() {\n    return {\n      Name: this.Name,\n      Value: this.Value\n    };\n  };\n\n  return CognitoUserAttribute;\n}();\n\nexport { CognitoUserAttribute as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nvar dataMemory = {};\n/** @class */\n\nvar MemoryStorage = /*#__PURE__*/function () {\n  function MemoryStorage() {}\n\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n  MemoryStorage.setItem = function setItem(key, value) {\n    dataMemory[key] = value;\n    return dataMemory[key];\n  }\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n  ;\n\n  MemoryStorage.getItem = function getItem(key) {\n    return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n  }\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n  ;\n\n  MemoryStorage.removeItem = function removeItem(key) {\n    return delete dataMemory[key];\n  }\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n  ;\n\n  MemoryStorage.clear = function clear() {\n    dataMemory = {};\n    return dataMemory;\n  };\n\n  return MemoryStorage;\n}();\n/** @class */\n\n\nvar StorageHelper = /*#__PURE__*/function () {\n  /**\n   * This is used to get a storage object\n   * @returns {object} the storage\n   */\n  function StorageHelper() {\n    try {\n      this.storageWindow = window.localStorage;\n      this.storageWindow.setItem('aws.cognito.test-ls', 1);\n      this.storageWindow.removeItem('aws.cognito.test-ls');\n    } catch (exception) {\n      this.storageWindow = MemoryStorage;\n    }\n  }\n  /**\n   * This is used to return the storage\n   * @returns {object} the storage\n   */\n\n\n  var _proto = StorageHelper.prototype;\n\n  _proto.getStorage = function getStorage() {\n    return this.storageWindow;\n  };\n\n  return StorageHelper;\n}();\n\nexport { StorageHelper as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Buffer } from 'buffer';\nimport CryptoJS from 'crypto-js/core';\nimport TypedArrays from 'crypto-js/lib-typedarrays'; // necessary for crypto js\n\nimport Base64 from 'crypto-js/enc-base64';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\nimport BigInteger from './BigInteger';\nimport AuthenticationHelper from './AuthenticationHelper';\nimport CognitoAccessToken from './CognitoAccessToken';\nimport CognitoIdToken from './CognitoIdToken';\nimport CognitoRefreshToken from './CognitoRefreshToken';\nimport CognitoUserSession from './CognitoUserSession';\nimport DateHelper from './DateHelper';\nimport CognitoUserAttribute from './CognitoUserAttribute';\nimport StorageHelper from './StorageHelper';\n/**\n * @callback nodeCallback\n * @template T result\n * @param {*} err The operation failure reason, or null.\n * @param {T} result The operation result.\n */\n\n/**\n * @callback onFailure\n * @param {*} err Failure reason.\n */\n\n/**\n * @callback onSuccess\n * @template T result\n * @param {T} result The operation result.\n */\n\n/**\n * @callback mfaRequired\n * @param {*} details MFA challenge details.\n */\n\n/**\n * @callback customChallenge\n * @param {*} details Custom challenge details.\n */\n\n/**\n * @callback inputVerificationCode\n * @param {*} data Server response.\n */\n\n/**\n * @callback authSuccess\n * @param {CognitoUserSession} session The new session.\n * @param {bool=} userConfirmationNecessary User must be confirmed.\n */\n\nvar isBrowser = typeof navigator !== 'undefined';\nvar userAgent = isBrowser ? navigator.userAgent : 'nodejs';\n/** @class */\n\nvar CognitoUser = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUser object\n   * @param {object} data Creation options\n   * @param {string} data.Username The user's username.\n   * @param {CognitoUserPool} data.Pool Pool containing the user.\n   * @param {object} data.Storage Optional storage object.\n   */\n  function CognitoUser(data) {\n    if (data == null || data.Username == null || data.Pool == null) {\n      throw new Error('Username and Pool information are required.');\n    }\n\n    this.username = data.Username || '';\n    this.pool = data.Pool;\n    this.Session = null;\n    this.client = data.Pool.client;\n    this.signInUserSession = null;\n    this.authenticationFlowType = 'USER_SRP_AUTH';\n    this.storage = data.Storage || new StorageHelper().getStorage();\n    this.keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    this.userDataKey = this.keyPrefix + \".\" + this.username + \".userData\";\n  }\n  /**\n   * Sets the session for this user\n   * @param {CognitoUserSession} signInUserSession the session\n   * @returns {void}\n   */\n\n\n  var _proto = CognitoUser.prototype;\n\n  _proto.setSignInUserSession = function setSignInUserSession(signInUserSession) {\n    this.clearCachedUserData();\n    this.signInUserSession = signInUserSession;\n    this.cacheTokens();\n  }\n  /**\n   * @returns {CognitoUserSession} the current session for this user\n   */\n  ;\n\n  _proto.getSignInUserSession = function getSignInUserSession() {\n    return this.signInUserSession;\n  }\n  /**\n   * @returns {string} the user's username\n   */\n  ;\n\n  _proto.getUsername = function getUsername() {\n    return this.username;\n  }\n  /**\n   * @returns {String} the authentication flow type\n   */\n  ;\n\n  _proto.getAuthenticationFlowType = function getAuthenticationFlowType() {\n    return this.authenticationFlowType;\n  }\n  /**\n   * sets authentication flow type\n   * @param {string} authenticationFlowType New value.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setAuthenticationFlowType = function setAuthenticationFlowType(authenticationFlowType) {\n    this.authenticationFlowType = authenticationFlowType;\n  }\n  /**\n   * This is used for authenticating the user through the custom authentication flow.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.initiateAuth = function initiateAuth(authDetails, callback) {\n    var _this = this;\n\n    var authParameters = authDetails.getAuthParameters();\n    authParameters.USERNAME = this.username;\n    var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n    var jsonReq = {\n      AuthFlow: 'CUSTOM_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetaData\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('InitiateAuth', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      var challengeName = data.ChallengeName;\n      var challengeParameters = data.ChallengeParameters;\n\n      if (challengeName === 'CUSTOM_CHALLENGE') {\n        _this.Session = data.Session;\n        return callback.customChallenge(challengeParameters);\n      }\n\n      _this.signInUserSession = _this.getCognitoUserSession(data.AuthenticationResult);\n\n      _this.cacheTokens();\n\n      return callback.onSuccess(_this.signInUserSession);\n    });\n  }\n  /**\n   * This is used for authenticating the user.\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUser = function authenticateUser(authDetails, callback) {\n    if (this.authenticationFlowType === 'USER_PASSWORD_AUTH') {\n      return this.authenticateUserPlainUsernamePassword(authDetails, callback);\n    } else if (this.authenticationFlowType === 'USER_SRP_AUTH' || this.authenticationFlowType === 'CUSTOM_AUTH') {\n      return this.authenticateUserDefaultAuth(authDetails, callback);\n    }\n\n    return callback.onFailure(new Error('Authentication flow type is invalid.'));\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * It calls the AuthenticationHelper for SRP related\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserDefaultAuth = function authenticateUserDefaultAuth(authDetails, callback) {\n    var _this2 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var dateHelper = new DateHelper();\n    var serverBValue;\n    var salt;\n    var authParameters = {};\n\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    authParameters.USERNAME = this.username;\n    authenticationHelper.getLargeAValue(function (errOnAValue, aValue) {\n      // getLargeAValue callback start\n      if (errOnAValue) {\n        callback.onFailure(errOnAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n\n      if (_this2.authenticationFlowType === 'CUSTOM_AUTH') {\n        authParameters.CHALLENGE_NAME = 'SRP_A';\n      }\n\n      var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n      var jsonReq = {\n        AuthFlow: _this2.authenticationFlowType,\n        ClientId: _this2.pool.getClientId(),\n        AuthParameters: authParameters,\n        ClientMetadata: clientMetaData\n      };\n\n      if (_this2.getUserContextData(_this2.username)) {\n        jsonReq.UserContextData = _this2.getUserContextData(_this2.username);\n      }\n\n      _this2.client.request('InitiateAuth', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n        _this2.username = challengeParameters.USER_ID_FOR_SRP;\n        serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        salt = new BigInteger(challengeParameters.SALT, 16);\n\n        _this2.getCachedDeviceKeyAndPassword();\n\n        authenticationHelper.getPasswordAuthenticationKey(_this2.username, authDetails.getPassword(), serverBValue, salt, function (errOnHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errOnHkdf) {\n            callback.onFailure(errOnHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this2.pool.getUserPoolId().split('_')[1], 'utf8'), Buffer.from(_this2.username, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n          var challengeResponses = {};\n          challengeResponses.USERNAME = _this2.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n\n          if (_this2.deviceKey != null) {\n            challengeResponses.DEVICE_KEY = _this2.deviceKey;\n          }\n\n          var respondToAuthChallenge = function respondToAuthChallenge(challenge, challengeCallback) {\n            return _this2.client.request('RespondToAuthChallenge', challenge, function (errChallenge, dataChallenge) {\n              if (errChallenge && errChallenge.code === 'ResourceNotFoundException' && errChallenge.message.toLowerCase().indexOf('device') !== -1) {\n                challengeResponses.DEVICE_KEY = null;\n                _this2.deviceKey = null;\n                _this2.randomPassword = null;\n                _this2.deviceGroupKey = null;\n\n                _this2.clearCachedDeviceKeyAndPassword();\n\n                return respondToAuthChallenge(challenge, challengeCallback);\n              }\n\n              return challengeCallback(errChallenge, dataChallenge);\n            });\n          };\n\n          var jsonReqResp = {\n            ChallengeName: 'PASSWORD_VERIFIER',\n            ClientId: _this2.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session,\n            ClientMetadata: clientMetaData\n          };\n\n          if (_this2.getUserContextData()) {\n            jsonReqResp.UserContextData = _this2.getUserContextData();\n          }\n\n          respondToAuthChallenge(jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            return _this2.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n          });\n          return undefined; // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      }); // getLargeAValue callback end\n\n    });\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserPlainUsernamePassword = function authenticateUserPlainUsernamePassword(authDetails, callback) {\n    var _this3 = this;\n\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.PASSWORD = authDetails.getPassword();\n\n    if (!authParameters.PASSWORD) {\n      callback.onFailure(new Error('PASSWORD parameter is required'));\n      return;\n    }\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n    var jsonReq = {\n      AuthFlow: 'USER_PASSWORD_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetaData\n    };\n\n    if (this.getUserContextData(this.username)) {\n      jsonReq.UserContextData = this.getUserContextData(this.username);\n    } // USER_PASSWORD_AUTH happens in a single round-trip: client sends userName and password,\n    // Cognito UserPools verifies password and returns tokens.\n\n\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return _this3.authenticateUserInternal(authResult, authenticationHelper, callback);\n    });\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {object} dataAuthenticate authentication data\n   * @param {object} authenticationHelper helper created\n   * @param {callback} callback passed on from caller\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserInternal = function authenticateUserInternal(dataAuthenticate, authenticationHelper, callback) {\n    var _this4 = this;\n\n    var challengeName = dataAuthenticate.ChallengeName;\n    var challengeParameters = dataAuthenticate.ChallengeParameters;\n\n    if (challengeName === 'SMS_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SELECT_MFA_TYPE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.selectMFAType(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'MFA_SETUP') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaSetup(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SOFTWARE_TOKEN_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.totpRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'CUSTOM_CHALLENGE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.customChallenge(challengeParameters);\n    }\n\n    if (challengeName === 'NEW_PASSWORD_REQUIRED') {\n      this.Session = dataAuthenticate.Session;\n      var userAttributes = null;\n      var rawRequiredAttributes = null;\n      var requiredAttributes = [];\n      var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n\n      if (challengeParameters) {\n        userAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.userAttributes);\n        rawRequiredAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.requiredAttributes);\n      }\n\n      if (rawRequiredAttributes) {\n        for (var i = 0; i < rawRequiredAttributes.length; i++) {\n          requiredAttributes[i] = rawRequiredAttributes[i].substr(userAttributesPrefix.length);\n        }\n      }\n\n      return callback.newPasswordRequired(userAttributes, requiredAttributes);\n    }\n\n    if (challengeName === 'DEVICE_SRP_AUTH') {\n      this.getDeviceResponse(callback);\n      return undefined;\n    }\n\n    this.signInUserSession = this.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n    this.challengeName = challengeName;\n    this.cacheTokens();\n    var newDeviceMetadata = dataAuthenticate.AuthenticationResult.NewDeviceMetadata;\n\n    if (newDeviceMetadata == null) {\n      return callback.onSuccess(this.signInUserSession);\n    }\n\n    authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n      if (errGenHash) {\n        return callback.onFailure(errGenHash);\n      }\n\n      var deviceSecretVerifierConfig = {\n        Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n        PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n      };\n      _this4.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n      _this4.deviceGroupKey = newDeviceMetadata.DeviceGroupKey;\n      _this4.randomPassword = authenticationHelper.getRandomPassword();\n\n      _this4.client.request('ConfirmDevice', {\n        DeviceKey: newDeviceMetadata.DeviceKey,\n        AccessToken: _this4.signInUserSession.getAccessToken().getJwtToken(),\n        DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n        DeviceName: userAgent\n      }, function (errConfirm, dataConfirm) {\n        if (errConfirm) {\n          return callback.onFailure(errConfirm);\n        }\n\n        _this4.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n\n        _this4.cacheDeviceKeyAndPassword();\n\n        if (dataConfirm.UserConfirmationNecessary === true) {\n          return callback.onSuccess(_this4.signInUserSession, dataConfirm.UserConfirmationNecessary);\n        }\n\n        return callback.onSuccess(_this4.signInUserSession);\n      });\n\n      return undefined;\n    });\n    return undefined;\n  }\n  /**\n   * This method is user to complete the NEW_PASSWORD_REQUIRED challenge.\n   * Pass the new password with any new user attributes to be updated.\n   * User attribute keys must be of format userAttributes.<attribute_name>.\n   * @param {string} newPassword new password for this user\n   * @param {object} requiredAttributeData map with values for all required attributes\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *         response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.completeNewPasswordChallenge = function completeNewPasswordChallenge(newPassword, requiredAttributeData, callback, clientMetadata) {\n    var _this5 = this;\n\n    if (!newPassword) {\n      return callback.onFailure(new Error('New password is required.'));\n    }\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n    var finalUserAttributes = {};\n\n    if (requiredAttributeData) {\n      Object.keys(requiredAttributeData).forEach(function (key) {\n        finalUserAttributes[userAttributesPrefix + key] = requiredAttributeData[key];\n      });\n    }\n\n    finalUserAttributes.NEW_PASSWORD = newPassword;\n    finalUserAttributes.USERNAME = this.username;\n    var jsonReq = {\n      ChallengeName: 'NEW_PASSWORD_REQUIRED',\n      ClientId: this.pool.getClientId(),\n      ChallengeResponses: finalUserAttributes,\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (errAuthenticate, dataAuthenticate) {\n      if (errAuthenticate) {\n        return callback.onFailure(errAuthenticate);\n      }\n\n      return _this5.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to get a session using device authentication. It is called at the end of user\n   * authentication\n   *\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   * @private\n   */\n  ;\n\n  _proto.getDeviceResponse = function getDeviceResponse(callback, clientMetadata) {\n    var _this6 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.deviceGroupKey);\n    var dateHelper = new DateHelper();\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.DEVICE_KEY = this.deviceKey;\n    authenticationHelper.getLargeAValue(function (errAValue, aValue) {\n      // getLargeAValue callback start\n      if (errAValue) {\n        callback.onFailure(errAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n      var jsonReq = {\n        ChallengeName: 'DEVICE_SRP_AUTH',\n        ClientId: _this6.pool.getClientId(),\n        ChallengeResponses: authParameters,\n        ClientMetadata: clientMetadata\n      };\n\n      if (_this6.getUserContextData()) {\n        jsonReq.UserContextData = _this6.getUserContextData();\n      }\n\n      _this6.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n        var serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        var salt = new BigInteger(challengeParameters.SALT, 16);\n        authenticationHelper.getPasswordAuthenticationKey(_this6.deviceKey, _this6.randomPassword, serverBValue, salt, function (errHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errHkdf) {\n            return callback.onFailure(errHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this6.deviceGroupKey, 'utf8'), Buffer.from(_this6.deviceKey, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n          var challengeResponses = {};\n          challengeResponses.USERNAME = _this6.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n          challengeResponses.DEVICE_KEY = _this6.deviceKey;\n          var jsonReqResp = {\n            ChallengeName: 'DEVICE_PASSWORD_VERIFIER',\n            ClientId: _this6.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session\n          };\n\n          if (_this6.getUserContextData()) {\n            jsonReqResp.UserContextData = _this6.getUserContextData();\n          }\n\n          _this6.client.request('RespondToAuthChallenge', jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            _this6.signInUserSession = _this6.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n\n            _this6.cacheTokens();\n\n            return callback.onSuccess(_this6.signInUserSession);\n          });\n\n          return undefined; // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      }); // getLargeAValue callback end\n\n    });\n  }\n  /**\n   * This is used for a certain user to confirm the registration by using a confirmation code\n   * @param {string} confirmationCode Code entered by user.\n   * @param {bool} forceAliasCreation Allow migrating from an existing email / phone number.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.confirmRegistration = function confirmRegistration(confirmationCode, forceAliasCreation, callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      ConfirmationCode: confirmationCode,\n      Username: this.username,\n      ForceAliasCreation: forceAliasCreation,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ConfirmSignUp', jsonReq, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n  }\n  /**\n   * This is used by the user once he has the responses to a custom challenge\n   * @param {string} answerChallenge The custom challenge answer.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge\n   *    Custom challenge response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendCustomChallengeAnswer = function sendCustomChallengeAnswer(answerChallenge, callback, clientMetadata) {\n    var _this7 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: 'CUSTOM_CHALLENGE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return _this7.authenticateUserInternal(data, authenticationHelper, callback);\n    });\n  }\n  /**\n   * This is used by the user once he has an MFA code\n   * @param {string} confirmationCode The MFA code entered by the user.\n   * @param {object} callback Result callback map.\n   * @param {string} mfaType The mfa we are replying to.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendMFACode = function sendMFACode(confirmationCode, callback, mfaType, clientMetadata) {\n    var _this8 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.SMS_MFA_CODE = confirmationCode;\n    var mfaTypeSelection = mfaType || 'SMS_MFA';\n\n    if (mfaTypeSelection === 'SOFTWARE_TOKEN_MFA') {\n      challengeResponses.SOFTWARE_TOKEN_MFA_CODE = confirmationCode;\n    }\n\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: mfaTypeSelection,\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, dataAuthenticate) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      var challengeName = dataAuthenticate.ChallengeName;\n\n      if (challengeName === 'DEVICE_SRP_AUTH') {\n        _this8.getDeviceResponse(callback);\n\n        return undefined;\n      }\n\n      _this8.signInUserSession = _this8.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n\n      _this8.cacheTokens();\n\n      if (dataAuthenticate.AuthenticationResult.NewDeviceMetadata == null) {\n        return callback.onSuccess(_this8.signInUserSession);\n      }\n\n      var authenticationHelper = new AuthenticationHelper(_this8.pool.getUserPoolId().split('_')[1]);\n      authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n        if (errGenHash) {\n          return callback.onFailure(errGenHash);\n        }\n\n        var deviceSecretVerifierConfig = {\n          Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n          PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n        };\n        _this8.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n        _this8.deviceGroupKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey;\n        _this8.randomPassword = authenticationHelper.getRandomPassword();\n\n        _this8.client.request('ConfirmDevice', {\n          DeviceKey: dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey,\n          AccessToken: _this8.signInUserSession.getAccessToken().getJwtToken(),\n          DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n          DeviceName: userAgent\n        }, function (errConfirm, dataConfirm) {\n          if (errConfirm) {\n            return callback.onFailure(errConfirm);\n          }\n\n          _this8.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n\n          _this8.cacheDeviceKeyAndPassword();\n\n          if (dataConfirm.UserConfirmationNecessary === true) {\n            return callback.onSuccess(_this8.signInUserSession, dataConfirm.UserConfirmationNecessary);\n          }\n\n          return callback.onSuccess(_this8.signInUserSession);\n        });\n\n        return undefined;\n      });\n      return undefined;\n    });\n  }\n  /**\n   * This is used by an authenticated user to change the current password\n   * @param {string} oldUserPassword The current password.\n   * @param {string} newUserPassword The requested new password.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.changePassword = function changePassword(oldUserPassword, newUserPassword, callback, clientMetadata) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('ChangePassword', {\n      PreviousPassword: oldUserPassword,\n      ProposedPassword: newUserPassword,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.enableMFA = function enableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n    var mfaEnabled = {\n      DeliveryMedium: 'SMS',\n      AttributeName: 'phone_number'\n    };\n    mfaOptions.push(mfaEnabled);\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @param {IMfaSettings} smsMfaSettings the sms mfa settings\n   * @param {IMFASettings} softwareTokenMfaSettings the software token mfa settings\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setUserMfaPreference = function setUserMfaPreference(smsMfaSettings, softwareTokenMfaSettings, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('SetUserMFAPreference', {\n      SMSMfaSettings: smsMfaSettings,\n      SoftwareTokenMfaSettings: softwareTokenMfaSettings,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to disable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.disableMFA = function disableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to delete itself\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.deleteUser = function deleteUser(callback, clientMetadata) {\n    var _this9 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      _this9.clearCachedUser();\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * @typedef {CognitoUserAttribute | { Name:string, Value:string }} AttributeArg\n   */\n\n  /**\n   * This is used by an authenticated user to change a list of attributes\n   * @param {AttributeArg[]} attributes A list of the new user attributes.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.updateAttributes = function updateAttributes(attributes, callback, clientMetadata) {\n    var _this10 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('UpdateUserAttributes', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      UserAttributes: attributes,\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      } // update cached user\n\n\n      return _this10.getUserData(function () {\n        return callback(null, 'SUCCESS');\n      }, {\n        bypassCache: true\n      });\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to get a list of attributes\n   * @param {nodeCallback<CognitoUserAttribute[]>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getUserAttributes = function getUserAttributes(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var attributeList = [];\n\n      for (var i = 0; i < userData.UserAttributes.length; i++) {\n        var attribute = {\n          Name: userData.UserAttributes[i].Name,\n          Value: userData.UserAttributes[i].Value\n        };\n        var userAttribute = new CognitoUserAttribute(attribute);\n        attributeList.push(userAttribute);\n      }\n\n      return callback(null, attributeList);\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to get the MFAOptions\n   * @param {nodeCallback<MFAOptions>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getMFAOptions = function getMFAOptions(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, userData.MFAOptions);\n    });\n    return undefined;\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.createGetUserRequest = function createGetUserRequest() {\n    return this.client.promisifyRequest('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    });\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.refreshSessionIfPossible = function refreshSessionIfPossible() {\n    var _this11 = this;\n\n    // best effort, if not possible\n    return new Promise(function (resolve) {\n      var refresh = _this11.signInUserSession.getRefreshToken();\n\n      if (refresh && refresh.getToken()) {\n        _this11.refreshSession(refresh, resolve);\n      } else {\n        resolve();\n      }\n    });\n  }\n  /**\n   * This is used by an authenticated users to get the userData\n   * @param {nodeCallback<UserData>} callback Called on success or error.\n   * @param {GetUserDataOptions} params\n   * @returns {void}\n   */\n  ;\n\n  _proto.getUserData = function getUserData(callback, params) {\n    var _this12 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.clearCachedUserData();\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var userData = this.getUserDataFromCache();\n\n    if (!userData) {\n      this.fetchUserData().then(function (data) {\n        callback(null, data);\n      })[\"catch\"](callback);\n      return;\n    }\n\n    if (this.isFetchUserDataAndTokenRequired(params)) {\n      this.fetchUserData().then(function (data) {\n        return _this12.refreshSessionIfPossible().then(function () {\n          return data;\n        });\n      }).then(function (data) {\n        return callback(null, data);\n      })[\"catch\"](callback);\n      return;\n    }\n\n    try {\n      callback(null, JSON.parse(userData));\n      return;\n    } catch (err) {\n      this.clearCachedUserData();\n      callback(err, null);\n      return;\n    }\n  }\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.getUserDataFromCache = function getUserDataFromCache() {\n    var userData = this.storage.getItem(this.userDataKey);\n    return userData;\n  }\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.isFetchUserDataAndTokenRequired = function isFetchUserDataAndTokenRequired(params) {\n    var _ref = params || {},\n        _ref$bypassCache = _ref.bypassCache,\n        bypassCache = _ref$bypassCache === void 0 ? false : _ref$bypassCache;\n\n    return bypassCache;\n  }\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.fetchUserData = function fetchUserData() {\n    var _this13 = this;\n\n    return this.createGetUserRequest().then(function (data) {\n      _this13.cacheUserData(data);\n\n      return data;\n    });\n  }\n  /**\n   * This is used by an authenticated user to delete a list of attributes\n   * @param {string[]} attributeList Names of the attributes to delete.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.deleteAttributes = function deleteAttributes(attributeList, callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUserAttributes', {\n      UserAttributeNames: attributeList,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by a user to resend a confirmation code\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.resendConfirmationCode = function resendConfirmationCode(callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ClientMetadata: clientMetadata\n    };\n    this.client.request('ResendConfirmationCode', jsonReq, function (err, result) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, result);\n    });\n  }\n  /**\n   * This is used to get a session, either from the session object\n   * or from  the local storage, or by using a refresh token\n   *\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getSession = function getSession(callback) {\n    if (this.username == null) {\n      return callback(new Error('Username is null. Cannot retrieve a new session'), null);\n    }\n\n    if (this.signInUserSession != null && this.signInUserSession.isValid()) {\n      return callback(null, this.signInUserSession);\n    }\n\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var idTokenKey = keyPrefix + \".idToken\";\n    var accessTokenKey = keyPrefix + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".refreshToken\";\n    var clockDriftKey = keyPrefix + \".clockDrift\";\n\n    if (this.storage.getItem(idTokenKey)) {\n      var idToken = new CognitoIdToken({\n        IdToken: this.storage.getItem(idTokenKey)\n      });\n      var accessToken = new CognitoAccessToken({\n        AccessToken: this.storage.getItem(accessTokenKey)\n      });\n      var refreshToken = new CognitoRefreshToken({\n        RefreshToken: this.storage.getItem(refreshTokenKey)\n      });\n      var clockDrift = parseInt(this.storage.getItem(clockDriftKey), 0) || 0;\n      var sessionData = {\n        IdToken: idToken,\n        AccessToken: accessToken,\n        RefreshToken: refreshToken,\n        ClockDrift: clockDrift\n      };\n      var cachedSession = new CognitoUserSession(sessionData);\n\n      if (cachedSession.isValid()) {\n        this.signInUserSession = cachedSession;\n        return callback(null, this.signInUserSession);\n      }\n\n      if (!refreshToken.getToken()) {\n        return callback(new Error('Cannot retrieve a new session. Please authenticate.'), null);\n      }\n\n      this.refreshSession(refreshToken, callback);\n    } else {\n      callback(new Error('Local storage is missing an ID Token, Please authenticate'), null);\n    }\n\n    return undefined;\n  }\n  /**\n   * This uses the refreshToken to retrieve a new session\n   * @param {CognitoRefreshToken} refreshToken A previous session's refresh token.\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.refreshSession = function refreshSession(refreshToken, callback, clientMetadata) {\n    var _this14 = this;\n\n    var wrappedCallback = this.pool.wrapRefreshSessionCallback ? this.pool.wrapRefreshSessionCallback(callback) : callback;\n    var authParameters = {};\n    authParameters.REFRESH_TOKEN = refreshToken.getToken();\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n\n    if (this.storage.getItem(lastUserKey)) {\n      this.username = this.storage.getItem(lastUserKey);\n      var deviceKeyKey = keyPrefix + \".\" + this.username + \".deviceKey\";\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      AuthFlow: 'REFRESH_TOKEN_AUTH',\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        if (err.code === 'NotAuthorizedException') {\n          _this14.clearCachedUser();\n        }\n\n        return wrappedCallback(err, null);\n      }\n\n      if (authResult) {\n        var authenticationResult = authResult.AuthenticationResult;\n\n        if (!Object.prototype.hasOwnProperty.call(authenticationResult, 'RefreshToken')) {\n          authenticationResult.RefreshToken = refreshToken.getToken();\n        }\n\n        _this14.signInUserSession = _this14.getCognitoUserSession(authenticationResult);\n\n        _this14.cacheTokens();\n\n        return wrappedCallback(null, _this14.signInUserSession);\n      }\n\n      return undefined;\n    });\n  }\n  /**\n   * This is used to save the session tokens to local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.cacheTokens = function cacheTokens() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n    var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n    var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n    this.storage.setItem(idTokenKey, this.signInUserSession.getIdToken().getJwtToken());\n    this.storage.setItem(accessTokenKey, this.signInUserSession.getAccessToken().getJwtToken());\n    this.storage.setItem(refreshTokenKey, this.signInUserSession.getRefreshToken().getToken());\n    this.storage.setItem(clockDriftKey, \"\" + this.signInUserSession.getClockDrift());\n    this.storage.setItem(lastUserKey, this.username);\n  }\n  /**\n   * This is to cache user data\n   */\n  ;\n\n  _proto.cacheUserData = function cacheUserData(userData) {\n    this.storage.setItem(this.userDataKey, JSON.stringify(userData));\n  }\n  /**\n   * This is to remove cached user data\n   */\n  ;\n\n  _proto.clearCachedUserData = function clearCachedUserData() {\n    this.storage.removeItem(this.userDataKey);\n  };\n\n  _proto.clearCachedUser = function clearCachedUser() {\n    this.clearCachedTokens();\n    this.clearCachedUserData();\n  }\n  /**\n   * This is used to cache the device key and device group and device password\n   * @returns {void}\n   */\n  ;\n\n  _proto.cacheDeviceKeyAndPassword = function cacheDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n    this.storage.setItem(deviceKeyKey, this.deviceKey);\n    this.storage.setItem(randomPasswordKey, this.randomPassword);\n    this.storage.setItem(deviceGroupKeyKey, this.deviceGroupKey);\n  }\n  /**\n   * This is used to get current device key and device group and device password\n   * @returns {void}\n   */\n  ;\n\n  _proto.getCachedDeviceKeyAndPassword = function getCachedDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n\n    if (this.storage.getItem(deviceKeyKey)) {\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      this.randomPassword = this.storage.getItem(randomPasswordKey);\n      this.deviceGroupKey = this.storage.getItem(deviceGroupKeyKey);\n    }\n  }\n  /**\n   * This is used to clear the device key info from local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.clearCachedDeviceKeyAndPassword = function clearCachedDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n    this.storage.removeItem(deviceKeyKey);\n    this.storage.removeItem(randomPasswordKey);\n    this.storage.removeItem(deviceGroupKeyKey);\n  }\n  /**\n   * This is used to clear the session tokens from local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.clearCachedTokens = function clearCachedTokens() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n    var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n    var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n    this.storage.removeItem(idTokenKey);\n    this.storage.removeItem(accessTokenKey);\n    this.storage.removeItem(refreshTokenKey);\n    this.storage.removeItem(lastUserKey);\n    this.storage.removeItem(clockDriftKey);\n  }\n  /**\n   * This is used to build a user session from tokens retrieved in the authentication result\n   * @param {object} authResult Successful auth response from server.\n   * @returns {CognitoUserSession} The new user session.\n   * @private\n   */\n  ;\n\n  _proto.getCognitoUserSession = function getCognitoUserSession(authResult) {\n    var idToken = new CognitoIdToken(authResult);\n    var accessToken = new CognitoAccessToken(authResult);\n    var refreshToken = new CognitoRefreshToken(authResult);\n    var sessionData = {\n      IdToken: idToken,\n      AccessToken: accessToken,\n      RefreshToken: refreshToken\n    };\n    return new CognitoUserSession(sessionData);\n  }\n  /**\n   * This is used to initiate a forgot password request\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode?} callback.inputVerificationCode\n   *    Optional callback raised instead of onSuccess with response data.\n   * @param {onSuccess} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgotPassword = function forgotPassword(callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ForgotPassword', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n\n      return callback.onSuccess(data);\n    });\n  }\n  /**\n   * This is used to confirm a new password using a confirmationCode\n   * @param {string} confirmationCode Code entered by user.\n   * @param {string} newPassword Confirm new password.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<void>} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.confirmPassword = function confirmPassword(confirmationCode, newPassword, callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ConfirmationCode: confirmationCode,\n      Password: newPassword,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ConfirmForgotPassword', jsonReq, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess();\n    });\n  }\n  /**\n   * This is used to initiate an attribute confirmation request\n   * @param {string} attributeName User attribute that needs confirmation.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode} callback.inputVerificationCode Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.getAttributeVerificationCode = function getAttributeVerificationCode(attributeName, callback, clientMetadata) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetUserAttributeVerificationCode', {\n      AttributeName: attributeName,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n\n      return callback.onSuccess();\n    });\n    return undefined;\n  }\n  /**\n   * This is used to confirm an attribute using a confirmation code\n   * @param {string} attributeName Attribute being confirmed.\n   * @param {string} confirmationCode Code entered by user.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.verifyAttribute = function verifyAttribute(attributeName, confirmationCode, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('VerifyUserAttribute', {\n      AttributeName: attributeName,\n      Code: confirmationCode,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to get the device information using the current device key\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device data.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getDevice = function getDevice(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to forget a specific device\n   * @param {string} deviceKey Device key.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgetSpecificDevice = function forgetSpecificDevice(deviceKey, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('ForgetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: deviceKey\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to forget the current device\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgetDevice = function forgetDevice(callback) {\n    var _this15 = this;\n\n    this.forgetSpecificDevice(this.deviceKey, {\n      onFailure: callback.onFailure,\n      onSuccess: function onSuccess(result) {\n        _this15.deviceKey = null;\n        _this15.deviceGroupKey = null;\n        _this15.randomPassword = null;\n\n        _this15.clearCachedDeviceKeyAndPassword();\n\n        return callback.onSuccess(result);\n      }\n    });\n  }\n  /**\n   * This is used to set the device status as remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setDeviceStatusRemembered = function setDeviceStatusRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to set the device status as not remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setDeviceStatusNotRemembered = function setDeviceStatusNotRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'not_remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to list all devices for a user\n   *\n   * @param {int} limit the number of devices returned in a call\n   * @param {string | null} paginationToken the pagination token in case any was returned before\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device list.\n   * @returns {void}\n   */\n  ;\n\n  _proto.listDevices = function listDevices(limit, paginationToken, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    var requestParams = {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      Limit: limit\n    };\n\n    if (paginationToken) {\n      requestParams.PaginationToken = paginationToken;\n    }\n\n    this.client.request('ListDevices', requestParams, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to globally revoke all tokens issued to a user\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.globalSignOut = function globalSignOut(callback) {\n    var _this16 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GlobalSignOut', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      _this16.clearCachedUser();\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used for the user to signOut of the application and clear the cached tokens.\n   * @returns {void}\n   */\n  ;\n\n  _proto.signOut = function signOut() {\n    this.signInUserSession = null;\n    this.clearCachedUser();\n  }\n  /**\n   * This is used by a user trying to select a given MFA\n   * @param {string} answerChallenge the mfa the user wants\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendMFASelectionAnswer = function sendMFASelectionAnswer(answerChallenge, callback) {\n    var _this17 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n    var jsonReq = {\n      ChallengeName: 'SELECT_MFA_TYPE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      _this17.Session = data.Session;\n\n      if (answerChallenge === 'SMS_MFA') {\n        return callback.mfaRequired(data.ChallengeName, data.ChallengeParameters);\n      }\n\n      if (answerChallenge === 'SOFTWARE_TOKEN_MFA') {\n        return callback.totpRequired(data.ChallengeName, data.ChallengeParameters);\n      }\n\n      return undefined;\n    });\n  }\n  /**\n   * This returns the user context data for advanced security feature.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getUserContextData = function getUserContextData() {\n    var pool = this.pool;\n    return pool.getUserContextData(this.username);\n  }\n  /**\n   * This is used by an authenticated or a user trying to authenticate to associate a TOTP MFA\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.associateSoftwareToken = function associateSoftwareToken(callback) {\n    var _this18 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('AssociateSoftwareToken', {\n        Session: this.Session\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        _this18.Session = data.Session;\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    } else {\n      this.client.request('AssociateSoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    }\n  }\n  /**\n   * This is used by an authenticated or a user trying to authenticate to verify a TOTP MFA\n   * @param {string} totpCode The MFA code entered by the user.\n   * @param {string} friendlyDeviceName The device name we are assigning to the device.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.verifySoftwareToken = function verifySoftwareToken(totpCode, friendlyDeviceName, callback) {\n    var _this19 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('VerifySoftwareToken', {\n        Session: this.Session,\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        _this19.Session = data.Session;\n        var challengeResponses = {};\n        challengeResponses.USERNAME = _this19.username;\n        var jsonReq = {\n          ChallengeName: 'MFA_SETUP',\n          ClientId: _this19.pool.getClientId(),\n          ChallengeResponses: challengeResponses,\n          Session: _this19.Session\n        };\n\n        if (_this19.getUserContextData()) {\n          jsonReq.UserContextData = _this19.getUserContextData();\n        }\n\n        _this19.client.request('RespondToAuthChallenge', jsonReq, function (errRespond, dataRespond) {\n          if (errRespond) {\n            return callback.onFailure(errRespond);\n          }\n\n          _this19.signInUserSession = _this19.getCognitoUserSession(dataRespond.AuthenticationResult);\n\n          _this19.cacheTokens();\n\n          return callback.onSuccess(_this19.signInUserSession);\n        });\n\n        return undefined;\n      });\n    } else {\n      this.client.request('VerifySoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        return callback.onSuccess(data);\n      });\n    }\n  };\n\n  return CognitoUser;\n}();\n\nexport { CognitoUser as default };","// constructor\nfunction UserAgent() {} // public\n\n\nUserAgent.prototype.userAgent = 'aws-amplify/0.1.x js';\nexport var appendToCognitoUserAgent = function appendToCognitoUserAgent(content) {\n  if (!content) {\n    return;\n  }\n\n  if (UserAgent.prototype.userAgent && !UserAgent.prototype.userAgent.includes(content)) {\n    UserAgent.prototype.userAgent = UserAgent.prototype.userAgent.concat(' ', content);\n  }\n\n  if (!UserAgent.prototype.userAgent || UserAgent.prototype.userAgent === '') {\n    UserAgent.prototype.userAgent = content;\n  }\n}; // class for defining the amzn user-agent\n\nexport default UserAgent;","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport 'isomorphic-unfetch';\nimport UserAgent from './UserAgent';\n\nvar CognitoError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(CognitoError, _Error);\n\n  function CognitoError(message, code, name, statusCode) {\n    var _this;\n\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.name = name;\n    _this.statusCode = statusCode;\n    return _this;\n  }\n\n  return CognitoError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/** @class */\n\n\nvar Client = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   * @param {object} fetchOptions options for fetch API (only credentials is supported)\n   */\n  function Client(region, endpoint, fetchOptions) {\n    this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n\n    var _ref = fetchOptions || {},\n        credentials = _ref.credentials;\n\n    this.fetchOptions = credentials ? {\n      credentials: credentials\n    } : {};\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @returns Promise<object>\n   */\n\n\n  var _proto = Client.prototype;\n\n  _proto.promisifyRequest = function promisifyRequest(operation, params) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this2.request(operation, params, function (err, data) {\n        if (err) {\n          reject(new CognitoError(err.message, err.code, err.name, err.statusCode));\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */\n  ;\n\n  _proto.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n      'X-Amz-User-Agent': UserAgent.prototype.userAgent\n    };\n    var options = Object.assign({}, this.fetchOptions, {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    });\n    var response;\n    var responseJsonData;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n\n      throw err;\n    }).then(function (resp) {\n      return resp.json()[\"catch\"](function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data; // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n\n      var code = (data.__type || data.code).split('#').pop();\n      var error = {\n        code: code,\n        name: code,\n        message: data.message || data.Message || null\n      };\n      return callback(error);\n    })[\"catch\"](function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = {\n            code: code,\n            name: code,\n            statusCode: response.status,\n            message: response.status ? response.status.toString() : null\n          };\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        } // otherwise check if error is Network error\n\n      } else if (err instanceof Error && err.message === 'Network error') {\n        var _error = {\n          code: 'NetworkError',\n          name: err.name,\n          message: err.message\n        };\n        return callback(_error);\n      } else {\n        return callback(err);\n      }\n    });\n  };\n\n  return Client;\n}();\n\nexport { Client as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport Client from './Client';\nimport CognitoUser from './CognitoUser';\nimport StorageHelper from './StorageHelper';\n/** @class */\n\nvar CognitoUserPool = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserPool object\n   * @param {object} data Creation options.\n   * @param {string} data.UserPoolId Cognito user pool id.\n   * @param {string} data.ClientId User pool application client id.\n   * @param {string} data.endpoint Optional custom service endpoint.\n   * @param {object} data.fetchOptions Optional options for fetch API.\n   *        (only credentials option is supported)\n   * @param {object} data.Storage Optional storage object.\n   * @param {boolean} data.AdvancedSecurityDataCollectionFlag Optional:\n   *        boolean flag indicating if the data collection is enabled\n   *        to support cognito advanced security features. By default, this\n   *        flag is set to true.\n   */\n  function CognitoUserPool(data, wrapRefreshSessionCallback) {\n    var _ref = data || {},\n        UserPoolId = _ref.UserPoolId,\n        ClientId = _ref.ClientId,\n        endpoint = _ref.endpoint,\n        fetchOptions = _ref.fetchOptions,\n        AdvancedSecurityDataCollectionFlag = _ref.AdvancedSecurityDataCollectionFlag;\n\n    if (!UserPoolId || !ClientId) {\n      throw new Error('Both UserPoolId and ClientId are required.');\n    }\n\n    if (!/^[\\w-]+_.+$/.test(UserPoolId)) {\n      throw new Error('Invalid UserPoolId format.');\n    }\n\n    var region = UserPoolId.split('_')[0];\n    this.userPoolId = UserPoolId;\n    this.clientId = ClientId;\n    this.client = new Client(region, endpoint, fetchOptions);\n    /**\n     * By default, AdvancedSecurityDataCollectionFlag is set to true,\n     * if no input value is provided.\n     */\n\n    this.advancedSecurityDataCollectionFlag = AdvancedSecurityDataCollectionFlag !== false;\n    this.storage = data.Storage || new StorageHelper().getStorage();\n\n    if (wrapRefreshSessionCallback) {\n      this.wrapRefreshSessionCallback = wrapRefreshSessionCallback;\n    }\n  }\n  /**\n   * @returns {string} the user pool id\n   */\n\n\n  var _proto = CognitoUserPool.prototype;\n\n  _proto.getUserPoolId = function getUserPoolId() {\n    return this.userPoolId;\n  }\n  /**\n   * @returns {string} the client id\n   */\n  ;\n\n  _proto.getClientId = function getClientId() {\n    return this.clientId;\n  }\n  /**\n   * @typedef {object} SignUpResult\n   * @property {CognitoUser} user New user.\n   * @property {bool} userConfirmed If the user is already confirmed.\n   */\n\n  /**\n   * method for signing up a user\n   * @param {string} username User's username.\n   * @param {string} password Plain-text initial password entered by user.\n   * @param {(AttributeArg[])=} userAttributes New user attributes.\n   * @param {(AttributeArg[])=} validationData Application metadata.\n   * @param {(AttributeArg[])=} clientMetadata Client metadata.\n   * @param {nodeCallback<SignUpResult>} callback Called on error or with the new user.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.signUp = function signUp(username, password, userAttributes, validationData, callback, clientMetadata) {\n    var _this = this;\n\n    var jsonReq = {\n      ClientId: this.clientId,\n      Username: username,\n      Password: password,\n      UserAttributes: userAttributes,\n      ValidationData: validationData,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData(username)) {\n      jsonReq.UserContextData = this.getUserContextData(username);\n    }\n\n    this.client.request('SignUp', jsonReq, function (err, data) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var cognitoUser = {\n        Username: username,\n        Pool: _this,\n        Storage: _this.storage\n      };\n      var returnData = {\n        user: new CognitoUser(cognitoUser),\n        userConfirmed: data.UserConfirmed,\n        userSub: data.UserSub,\n        codeDeliveryDetails: data.CodeDeliveryDetails\n      };\n      return callback(null, returnData);\n    });\n  }\n  /**\n   * method for getting the current user of the application from the local storage\n   *\n   * @returns {CognitoUser} the user retrieved from storage\n   */\n  ;\n\n  _proto.getCurrentUser = function getCurrentUser() {\n    var lastUserKey = \"CognitoIdentityServiceProvider.\" + this.clientId + \".LastAuthUser\";\n    var lastAuthUser = this.storage.getItem(lastUserKey);\n\n    if (lastAuthUser) {\n      var cognitoUser = {\n        Username: lastAuthUser,\n        Pool: this,\n        Storage: this.storage\n      };\n      return new CognitoUser(cognitoUser);\n    }\n\n    return null;\n  }\n  /**\n   * This method returns the encoded data string used for cognito advanced security feature.\n   * This would be generated only when developer has included the JS used for collecting the\n   * data on their client. Please refer to documentation to know more about using AdvancedSecurity\n   * features\n   * @param {string} username the username for the context data\n   * @returns {string} the user context data\n   **/\n  ;\n\n  _proto.getUserContextData = function getUserContextData(username) {\n    if (typeof AmazonCognitoAdvancedSecurityData === 'undefined') {\n      return undefined;\n    }\n    /* eslint-disable */\n\n\n    var amazonCognitoAdvancedSecurityDataConst = AmazonCognitoAdvancedSecurityData;\n    /* eslint-enable */\n\n    if (this.advancedSecurityDataCollectionFlag) {\n      var advancedSecurityData = amazonCognitoAdvancedSecurityDataConst.getData(username, this.userPoolId, this.clientId);\n\n      if (advancedSecurityData) {\n        var userContextData = {\n          EncodedData: advancedSecurityData\n        };\n        return userContextData;\n      }\n    }\n\n    return {};\n  };\n\n  return CognitoUserPool;\n}();\n\nexport { CognitoUserPool as default };","import * as Cookies from 'js-cookie';\n/** @class */\n\nvar CookieStorage = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CookieStorage object\n   * @param {object} data Creation options.\n   * @param {string} data.domain Cookies domain (mandatory).\n   * @param {string} data.path Cookies path (default: '/')\n   * @param {integer} data.expires Cookie expiration (in days, default: 365)\n   * @param {boolean} data.secure Cookie secure flag (default: true)\n   * @param {string} data.sameSite Cookie request behaviour (default: null)\n   */\n  function CookieStorage(data) {\n    if (data.domain) {\n      this.domain = data.domain;\n    } else {\n      throw new Error('The domain of cookieStorage can not be undefined.');\n    }\n\n    if (data.path) {\n      this.path = data.path;\n    } else {\n      this.path = '/';\n    }\n\n    if (Object.prototype.hasOwnProperty.call(data, 'expires')) {\n      this.expires = data.expires;\n    } else {\n      this.expires = 365;\n    }\n\n    if (Object.prototype.hasOwnProperty.call(data, 'secure')) {\n      this.secure = data.secure;\n    } else {\n      this.secure = true;\n    }\n\n    if (Object.prototype.hasOwnProperty.call(data, 'sameSite')) {\n      if (!['strict', 'lax', 'none'].includes(data.sameSite)) {\n        throw new Error('The sameSite value of cookieStorage must be \"lax\", \"strict\" or \"none\".');\n      }\n\n      if (data.sameSite === 'none' && !this.secure) {\n        throw new Error('sameSite = None requires the Secure attribute in latest browser versions.');\n      }\n\n      this.sameSite = data.sameSite;\n    } else {\n      this.sameSite = null;\n    }\n  }\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n\n\n  var _proto = CookieStorage.prototype;\n\n  _proto.setItem = function setItem(key, value) {\n    var options = {\n      path: this.path,\n      expires: this.expires,\n      domain: this.domain,\n      secure: this.secure\n    };\n\n    if (this.sameSite) {\n      options.sameSite = this.sameSite;\n    }\n\n    Cookies.set(key, value, options);\n    return Cookies.get(key);\n  }\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n  ;\n\n  _proto.getItem = function getItem(key) {\n    return Cookies.get(key);\n  }\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n  ;\n\n  _proto.removeItem = function removeItem(key) {\n    var options = {\n      path: this.path,\n      expires: this.expires,\n      domain: this.domain,\n      secure: this.secure\n    };\n\n    if (this.sameSite) {\n      options.sameSite = this.sameSite;\n    }\n\n    return Cookies.remove(key, options);\n  }\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n  ;\n\n  _proto.clear = function clear() {\n    var cookies = Cookies.get();\n    var index;\n\n    for (index = 0; index < cookies.length; ++index) {\n      Cookies.remove(cookies[index]);\n    }\n\n    return {};\n  };\n\n  return CookieStorage;\n}();\n\nexport { CookieStorage as default };","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\t    /*\n\t     * Local polyfil of Object.create\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {};\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }())\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var i = 0; i < thatSigBytes; i += 4) {\n\t                    thisWords[(thisSigBytes + i) >>> 2] = thatWords[i >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            var r = (function (m_w) {\n\t                var m_w = m_w;\n\t                var m_z = 0x3ade68b1;\n\t                var mask = 0xffffffff;\n\n\t                return function () {\n\t                    m_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n\t                    m_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n\t                    var result = ((m_z << 0x10) + m_w) & mask;\n\t                    result /= 0x100000000;\n\t                    result += 0.5;\n\t                    return result * (Math.random() > .5 ? 1 : -1);\n\t                }\n\t            });\n\n\t            for (var i = 0, rcache; i < nBytes; i += 4) {\n\t                var _r = r((rcache || Math.random()) * 0x100000000);\n\n\t                rcache = _r() * 0x3ade67b7;\n\t                words.push((_r() * 0x100000000) | 0);\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                var processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha256\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha256\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.HmacSHA256;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Check if typed arrays are supported\n\t    if (typeof ArrayBuffer != 'function') {\n\t        return;\n\t    }\n\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\n\t    // Reference original init\n\t    var superInit = WordArray.init;\n\n\t    // Augment WordArray.init to handle typed arrays\n\t    var subInit = WordArray.init = function (typedArray) {\n\t        // Convert buffers to uint8\n\t        if (typedArray instanceof ArrayBuffer) {\n\t            typedArray = new Uint8Array(typedArray);\n\t        }\n\n\t        // Convert other array views to uint8\n\t        if (\n\t            typedArray instanceof Int8Array ||\n\t            (typeof Uint8ClampedArray !== \"undefined\" && typedArray instanceof Uint8ClampedArray) ||\n\t            typedArray instanceof Int16Array ||\n\t            typedArray instanceof Uint16Array ||\n\t            typedArray instanceof Int32Array ||\n\t            typedArray instanceof Uint32Array ||\n\t            typedArray instanceof Float32Array ||\n\t            typedArray instanceof Float64Array\n\t        ) {\n\t            typedArray = new Uint8Array(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength);\n\t        }\n\n\t        // Handle Uint8Array\n\t        if (typedArray instanceof Uint8Array) {\n\t            // Shortcut\n\t            var typedArrayByteLength = typedArray.byteLength;\n\n\t            // Extract bytes\n\t            var words = [];\n\t            for (var i = 0; i < typedArrayByteLength; i++) {\n\t                words[i >>> 2] |= typedArray[i] << (24 - (i % 4) * 8);\n\t            }\n\n\t            // Initialize this word array\n\t            superInit.call(this, words, typedArrayByteLength);\n\t        } else {\n\t            // Else call normal init\n\t            superInit.apply(this, arguments);\n\t        }\n\t    };\n\n\t    subInit.prototype = WordArray;\n\t}());\n\n\n\treturn CryptoJS.lib.WordArray;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","module.exports = self.fetch || (self.fetch = require('unfetch').default || require('unfetch'));\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","export default function(e,n){return n=n||{},new Promise(function(t,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(n.method||\"get\",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm,function(e,n,t){o.push(n=n.toLowerCase()),u.push([n,t]),i[n]=i[n]?i[n]+\",\"+t:t}),t(a())},s.onerror=r,s.withCredentials=\"include\"==n.credentials,n.headers)s.setRequestHeader(l,n.headers[l]);s.send(n.body||null)})}\n//# sourceMappingURL=unfetch.module.js.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Terrain } from \"./terrain\";\n\nexport class Clock {\n    constructor(ctx: CanvasRenderingContext2D, terrain: Terrain) {\n        this.ctx = ctx;\n        this.terrain = terrain;\n        this.timeExtensions = [];\n    }\n\n    terrain: Terrain;\n    timeExtensions: any[];\n    extensionVisible = 5; //  seconds\n\n    ctx: CanvasRenderingContext2D;\n\n    public draw(time: number) {\n        if (!this.terrain) {\n            return;\n        }\n\n        this.ctx.font = \"100px Josefin Sans\";\n        this.ctx.fillStyle = '#afa5';\n        this.ctx.textAlign = \"center\";\n        const seconds = Math.max(0, (time / 1000));\n        const formatted = Math.round(seconds).toFixed();\n        this.ctx.fillText(` ${formatted} s`.replace('.', ','), this.terrain.areaDimensions.width / 2, this.terrain.areaDimensions.height / 2);\n\n        // Draw time extensions\n        this.timeExtensions = this.timeExtensions.filter(t => (new Date()).getTime() < (t.time.getTime() + this.extensionVisible * 1000));\n        this.timeExtensions.forEach((e, i) => {\n            const timeLeft = ((e.time.getTime() + this.extensionVisible * 1000) - (new Date()).getTime()) / 1000;\n            this.ctx.font = \"40px Josefin Sans\";\n            if (e.seconds > 0) {\n                this.ctx.fillStyle = `rgba(30, 220, 30, ${timeLeft / this.extensionVisible})`;\n            } else {\n                this.ctx.fillStyle = `rgba(220, 30, 30, ${timeLeft / this.extensionVisible})`;\n            }\n            this.ctx.textAlign = \"center\";\n            const formatted = e.seconds.toFixed(1);\n            this.ctx.fillText(`${e.seconds > 0 ? '+' : ''}${formatted} s`.replace('.', ','), this.terrain.areaDimensions.width / 2, this.terrain.areaDimensions.height / 2 + ((1 - timeLeft / this.extensionVisible) * 100));\n        });\n    }\n\n    extendTime = (seconds: number) => {\n        this.timeExtensions.push({\n            seconds,\n            time: new Date()\n        })\n    }\n}","export class Dimensions {\n    constructor(width: number, height: number) {\n        this.width = width;\n        this.height = height;\n    }\n\n    width: number;\n    height: number;\n}","export class Point {\n    constructor(x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n\n    x: number;\n    y: number;\n    cp1: Point;\n    cp2: Point;\n\n    // Euclidean distance between this and the argument point\n    public distanceTo(point: Point) {\n        const dx = this.x - point.x;\n        const dy = this.y - point.y;\n\n        // Calculate the distance\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n}","import { Point } from \"./point\";\nimport { Present } from \"./present\";\nimport { Terrain } from \"./terrain\";\n\nexport class Player {\n    lastCalcTime: Date;\n    atGround: boolean;\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    terrain: Terrain;\n    gravityScale = 30;\n    skiWidth = 30;\n    playerHeight = 20;\n    position: Point;\n    angle: number; // rad\n    velocity: Point;\n    gravity = 9.81 * this.gravityScale;\n    diving: boolean;\n    divingWeight = 3;\n    positionHistory: Point[];\n    friction = 0.9;\n    divePressed: boolean;\n    onGround: boolean;\n    jumpStartPos: number;\n    jumps: number[];\n    minY: number;\n    maxSpeed: number;\n\n    onScreenX = () => ((this.terrain.areaDimensions.width + this.position.x) % this.terrain.areaDimensions.width);\n    longestJump = () => Math.round((this.jumps.sort((a, b) => b - a)[0]) || 0);\n    highestPoint = () => Math.round((this.terrain.areaDimensions.height - this.minY) / 50);\n    topSpeed = () => Math.round(this.maxSpeed / 50 * 3.6);\n\n    constructor(canvas: HTMLCanvasElement, terrain: Terrain, startingPosition: Point = new Point(100, 100)) {\n        this.canvas = canvas;\n        this.ctx = canvas.getContext(\"2d\");\n        this.terrain = terrain;\n        this.position = startingPosition;\n        this.angle = 0;\n        this.velocity = new Point(10, 10);\n        this.positionHistory = [];\n        this.atGround = false;\n        this.diving = false;\n        this.divePressed = false;\n        this.onGround = false;\n        this.jumps = [];\n        this.minY = this.terrain.areaDimensions.height;\n        this.maxSpeed = 0;\n\n        this.addEventListeners();\n    }\n\n    ski = () => ({\n        back: new Point(\n            this.position.x - (this.skiWidth / 2) * Math.cos(this.angle),\n            this.position.y - (this.skiWidth / 2) * Math.sin(this.angle)\n        ),\n        front: new Point(\n            this.position.x + (this.skiWidth / 2) * Math.cos(this.angle),\n            this.position.y + (this.skiWidth / 2) * Math.sin(this.angle)\n        )\n    });\n\n    velocityAngle = () => {\n        const pos1 = this.positionHistory[this.positionHistory.length - 1];\n        const pos2 = this.positionHistory[this.positionHistory.length - 2];\n\n        if (pos1 && pos2) {\n            return Math.atan2(pos2.y - pos1.y, pos2.x - pos1.x);\n        }\n        return 0;\n    }\n\n    calculateFrame = (dt: number, collectedPresents: Present[]) => {\n        if (dt === 0) {\n            return;\n        }\n        // Update history\n        this.positionHistory.push(new Point(this.position.x, this.position.y));\n        this.positionHistory.splice(0, Math.max(0, this.positionHistory.length - 1000));\n        const lastPosition = this.positionHistory[this.positionHistory.length - 5] || this.position;\n        const [terrainHeight, terrainAngle] = this.terrain.getHeightAt(this.onScreenX());\n\n        if (this.diving && terrainHeight - 20 <= this.position.y) {\n            this.velocity.y += (10 / (dt * 1000)) * Math.sin(terrainAngle);\n            this.velocity.x += (10 / (dt * 1000)) * Math.cos(-terrainAngle);\n        }\n\n        // player touches ground\n        if (terrainHeight - 1 <= this.position.y) {\n            // Store jump length\n            if (this.jumpStartPos && !this.onGround && this.position.x - this.jumpStartPos > 500) {\n                this.jumps.push((this.position.x - this.jumpStartPos) / 50);\n            }\n\n            this.onGround = true;\n\n            let speed = Math.sqrt(Math.pow(this.velocity.x, 2) + Math.pow(this.velocity.y, 2));\n\n            // if (this.diving) {\n            //     speed += (100 / (dt * 1000));\n            // }\n\n            this.velocity.x += Math.sin(terrainAngle) * (dt * this.gravity); // m/s\n\n            if (Math.abs(terrainAngle - this.angle) > (Math.PI / 4)) {\n                speed = Math.min(speed, 100); // kill the speed if angle too steep\n            }\n\n            if ((terrainAngle < this.angle || this.angle == 0) && this.velocity.x >= 0) {\n                // redirect the player when moving rightward\n                this.velocity.y = speed * Math.sin(terrainAngle);\n                this.velocity.x = speed * Math.cos(-terrainAngle);\n            }\n            else if (terrainAngle >= this.angle && this.velocity.x < 0) {\n                // redirect the player when moving leftward\n                this.velocity.y = speed * Math.sin(terrainAngle);\n                this.velocity.x = speed * Math.cos(-terrainAngle);\n            }\n            else {\n                // console.log(this.angle, terrainAngle, Math.sin(this.angle), Math.sin(terrainAngle))\n                // debugger;\n            }\n\n            this.angle = terrainAngle;\n            this.position.y = Math.min(terrainHeight, this.position.y);\n            this.atGround = true;\n        } else {\n            if (this.onGround) {\n                // store jump start\n                this.jumpStartPos = this.position.x;\n            }\n\n            this.onGround = false;\n\n            this.velocity.y += (dt * this.gravity * (this.diving ? this.divingWeight : 1)); // m/s\n\n            if (terrainHeight - 5 <= this.position.y) {\n                this.atGround = false;\n            }\n        }\n\n        // Set new location\n        this.position.x += (dt * this.velocity.x);\n        this.position.y += (dt * this.velocity.y);\n\n        // Store max height\n        if (this.position.y < this.minY) {\n            this.minY = this.position.y;\n        }\n\n        this.maxSpeed = Math.max(this.maxSpeed, Math.sqrt(Math.pow(this.velocity.x, 2) + Math.pow(this.velocity.y, 2)));\n\n        // Set the the angle of velocity as angle if not at ground\n        if (terrainHeight - 10 > this.position.y && this.position.distanceTo(lastPosition) < this.terrain.areaDimensions.width / 2) {\n            this.angle = Math.atan2(this.position.y - lastPosition.y, this.position.x - lastPosition.x);\n        }\n    }\n\n    drawImage(image: HTMLImageElement, x: number, y: number, scale: number, rotation: number) {\n        this.ctx.setTransform(scale, 0, 0, scale, x, y); // sets scale and origin\n        this.ctx.rotate(rotation);\n        this.ctx.drawImage(image, -image.width / 2, -image.height / 2);\n    }\n\n    drawImageCenter(image: HTMLImageElement, x: number, y: number, cx: number, cy: number, scale: number, rotation: number) {\n        this.ctx.setTransform(scale, 0, 0, scale, x, y); // sets scale and origin\n        this.ctx.rotate(rotation);\n        this.ctx.drawImage(image, -cx, -cy);\n        this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    }\n\n    draw(collectedPresents: Present[]) {\n        // Angle vector\n        // this.ctx.strokeStyle = \"#fff\";\n        // this.ctx.lineWidth = 5;\n        // this.ctx.beginPath();\n        // const ski = this.ski();\n        // this.ctx.moveTo(this.onScreenX(), this.position.y);\n        // this.ctx.lineTo(this.onScreenX() + this.velocity.x/5, this.position.y + this.velocity.y/5);\n        // this.ctx.stroke();\n\n\n        //Heigt indicator\n        if (this.position.y < - this.playerHeight) {\n            this.ctx.strokeStyle = \"#fff\";\n            this.ctx.lineWidth = 5;\n            this.ctx.beginPath();\n            this.ctx.moveTo(this.onScreenX(), 0);\n            this.ctx.lineTo(this.onScreenX(), 40);\n            this.ctx.stroke();\n\n            this.ctx.textAlign = \"left\";\n            this.ctx.font = \"30px Josefin Sans\";\n            this.ctx.fillStyle = '#dddddd99';\n            this.ctx.fillText(`${Math.round((this.terrain.areaDimensions.height - this.position.y) / 50)} m`, 30, 50);\n        }\n\n        let player: HTMLImageElement;\n        if (this.velocity.x >= 0) {\n            player = <HTMLImageElement>document.getElementById(\"player\");\n            this.drawImageCenter(player, this.onScreenX(), this.position.y, 150, 250, 1 / 5, this.angle);\n        } else {\n            player = <HTMLImageElement>document.getElementById(\"player-reversed\");\n            this.drawImageCenter(player, this.onScreenX(), this.position.y, 150, 250, 1 / 5, this.angle);\n        }\n\n        const maxVisiblePresents = 20;\n        collectedPresents.slice(0, maxVisiblePresents).forEach((present, i) => {\n            let presentSlot = this.positionHistory[this.positionHistory.length - (i + 1) * 10];\n            present.position.x = (presentSlot.x % this.terrain.areaDimensions.width) - present.width / 2;\n            present.position.y = presentSlot.y - present.height / 2;\n        });\n        collectedPresents.slice(maxVisiblePresents).forEach(p => p.visible = false);\n\n        // // box\n        // this.ctx.beginPath();\n        // this.ctx.fillStyle = \"white\";\n        // // this.ctx.fillRect(this.onScreenX() - this.skiWidth/2, this.position.y - this.skiWidth, this.skiWidth, this.skiWidth);\n        // this.ctx.arc(this.onScreenX(), this.position.y - this.skiWidth, 10, 0, 2*Math.PI, false);\n        // this.ctx.fill();\n    }\n\n    private addEventListeners() {\n        // mouse events\n        window.addEventListener('keydown', e => {\n            if (e.code == 'Space') {\n                e.preventDefault();\n                document.getElementById('dive').classList.add('active');\n                this.diving = true;\n            }\n        }, false);\n        window.addEventListener('keyup', e => {\n            if (e.code == 'Space') {\n                e.preventDefault();\n                document.getElementById('dive').classList.remove('active');\n                this.diving = false;\n            }\n        }, false);\n    }\n\n\n    public handleDiveButtonPress = () => {\n        this.divePressed = true;\n        this.diving = true;\n        this.divePressed = true;\n    };\n\n    public hanldeDiveButtonRelease = () => {\n        if (this.divePressed) {\n            this.diving = false;\n            this.divePressed = false;\n        }\n    };\n}","import { Point } from \"./point\";\nimport { Terrain } from \"./terrain\";\n\nexport class Present {\n    constructor(canvas: HTMLCanvasElement, terrain: Terrain) {\n        this.canvas = canvas;\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.collected = false;\n        this.position = new Point(\n            Math.random() * (terrain.areaDimensions.width - this.width),\n            Math.random() * (terrain.areaDimensions.height / 2 - this.height));\n        this.visible = true;\n    }\n\n    canvas: HTMLCanvasElement;\n    ctx: CanvasRenderingContext2D;\n    position: Point;\n    collected: boolean;\n    width = 29 * (3 / 2);\n    height = 28 * (3 / 2);\n    visible: boolean;\n\n    public draw() {\n        if (!this.visible) {\n            return false;\n        }\n        \n        const ctx = this.ctx;\n\n        // ctx.fillStyle = '#f00';\n        // ctx.beginPath();\n        // ctx.arc(\n        //     this.position.x,\n        //     this.position.y,\n        //     this.width * (3 / 2),\n        //     0,\n        //     Math.PI * 2,\n        //     false);\n        // ctx.fill();\n\n        let present = <HTMLImageElement>document.getElementById(\"present\");\n        ctx.drawImage(present,\n            this.position.x - this.width / 2,\n            this.position.y - this.height / 2,\n            this.width,\n            this.height);\n    }\n}","import { Point } from \"./point\";\nimport { Dimensions } from \"./dimensions\";\n\nexport class Terrain {\n    constructor(canvas: HTMLCanvasElement, areaDimensions: Dimensions) {\n        this.areaDimensions = areaDimensions;\n        this.canvas = canvas;\n        this.resetPoints();\n        this.draggingHandles = {};\n\n        this.addMouseEventListeners();\n    }\n\n    handleRadius = 20;\n    handleStrokeWidth = 3;\n    maxVerticalHeight = () => this.areaDimensions.height * (14 / 20);\n    minVerticalHeight = () => this.areaDimensions.height * (17 / 20);\n    canvas: HTMLCanvasElement;\n    points: Point[];\n    areaDimensions: Dimensions;\n    draggingHandles: any;\n\n    draw() {\n        let ctx = this.canvas.getContext(\"2d\");\n        this.points = this.points.sort((a, b) => a.x - b.x);\n        const pointsWithControlPoint = this.pointsWithControlPoints();\n\n        let snow = ctx.createLinearGradient(0, this.minVerticalHeight(), 0, this.maxVerticalHeight());\n        snow.addColorStop(0, '#555');\n        snow.addColorStop(0.9, '#222');\n        // ctx.fillStyle = '#222';\n        ctx.fillStyle = snow;\n\n        ctx.beginPath();\n        ctx.moveTo(-this.areaDimensions.width, this.areaDimensions.height * 2);\n        ctx.lineTo(\n            pointsWithControlPoint[0].x,\n            pointsWithControlPoint[0].y);\n\n        // Draw the terrain\n        pointsWithControlPoint\n            .slice(1, pointsWithControlPoint.length)\n            .forEach(p =>\n                ctx.bezierCurveTo(p.cp1.x, p.cp1.y, p.cp2.x, p.cp2.y, p.x, p.y));\n\n        ctx.lineTo(this.areaDimensions.width * 2, this.areaDimensions.height * 2);\n\n        ctx.closePath();\n        ctx.fill();\n\n        // Draw the handles\n        this.points.forEach(p => {\n            ctx.beginPath();\n            ctx.arc(p.x, p.y, this.handleRadius, 0, 2 * Math.PI);\n            ctx.fillStyle = '#dddddd99';\n            ctx.fill();\n\n            ctx.beginPath();\n            ctx.arc(p.x, p.y, this.handleRadius, 0, 2 * Math.PI);\n            ctx.strokeStyle = '#aaaaaaff';\n            ctx.lineWidth = this.handleStrokeWidth;\n            ctx.stroke();\n        });\n    }\n\n    public getBezierXY(t: number, start: Point, end: Point) {\n        return {\n            x: Math.pow(1 - t, 3) * start.x + 3 * t * Math.pow(1 - t, 2) * end.cp1.x\n                + 3 * t * t * (1 - t) * end.cp2.x + t * t * t * end.x,\n            y: Math.pow(1 - t, 3) * start.y + 3 * t * Math.pow(1 - t, 2) * end.cp1.y\n                + 3 * t * t * (1 - t) * end.cp2.y + t * t * t * end.y\n        };\n    }\n\n    public getBezierAngle(t: number, start: Point, end: Point) {\n        var dx = Math.pow(1 - t, 2) * (end.cp1.x - start.x) + 2 * t * (1 - t) * (end.cp2.x - end.cp1.x) + t * t * (end.x - end.cp2.x);\n        var dy = Math.pow(1 - t, 2) * (end.cp1.y - start.y) + 2 * t * (1 - t) * (end.cp2.y - end.cp1.y) + t * t * (end.y - end.cp2.y);\n        return -Math.atan2(dx, dy) + 0.5 * Math.PI;\n    }\n\n    public getHeightAt(x: number) {\n        const points = this.pointsWithControlPoints().sort((a, b) => a.x - b.x);\n        let leftPoint;\n        let rightPoint;\n\n        if (x < 0 || x > this.areaDimensions.width) {\n            console.error(`Cannot resolve terrain height at ${x}`)\n        }\n\n        for (let i = 0; i < points.length; i++) {\n            if (points[i].x > x) {\n                rightPoint = points[i];\n                leftPoint = points[i - 1];\n                break;\n            }\n        }\n\n        let t = 1;\n        for (let i = 1; i <= 100 ; ++i) {\n            if (this.getBezierXY(t, leftPoint, rightPoint).x < x) {\n                t += 0.5/i;\n            } else {\n                t -= 0.5/i;\n            }\n        }\n\n        return [this.getBezierXY(t, leftPoint, rightPoint).y, this.getBezierAngle(t, leftPoint, rightPoint)];\n    }\n\n    // Add point to front and back to make line continue from edge to edge\n    private extrapolatedPoints() {\n        const points = this.points;\n\n        return [\n            {\n                x: points[points.length - 1].x - this.areaDimensions.width,\n                y: points[points.length - 1].y,\n            },\n            ...points,\n            {\n                x: this.areaDimensions.width + points[0].x,\n                y: points[0].y,\n            },\n        ];\n    }\n\n    // Add bezier control points to the array\n    private pointsWithControlPoints(): Point[] {\n        return this.extrapolatedPoints().reduce((arr, elem, i, pointsArr) => {\n            const prevX = pointsArr[(pointsArr.length + i - 1) % pointsArr.length].x;\n\n            return [\n                ...arr,\n                {\n                    x: elem.x,\n                    y: elem.y,\n                    cp1: {\n                        x: prevX + (elem.x - prevX) / 2,\n                        y: pointsArr[(pointsArr.length + i - 1) % pointsArr.length].y\n                    },\n                    cp2: {\n                        x: elem.x - (elem.x - prevX) / 2,\n                        y: elem.y\n                    }\n                }\n            ];\n        }, []);\n    }\n\n\n\n    // terrain mouse event handlers\n    startDrag = (x: number, y: number, identifier: number = 0) => {\n        if (this.draggingHandles[identifier]) {\n            return;\n        }\n\n        const mouseCanvasPosition = new Point(\n            (x - this.canvas.offsetLeft) / this.canvas.offsetWidth * this.canvas.width,\n            (y - this.canvas.offsetTop) / this.canvas.offsetHeight * this.canvas.height\n        )\n\n        const closestPoint = this.points.reduce((closest: Point, p: Point) => {\n            return (p.distanceTo(mouseCanvasPosition) < closest.distanceTo(mouseCanvasPosition) ? p : closest);\n        }, new Point(Infinity, Infinity));\n\n        if (closestPoint.distanceTo(mouseCanvasPosition) < this.handleRadius * 2) {\n            // console.log('START', identifier);\n            \n            this.draggingHandles[identifier] = closestPoint;\n        }\n    }\n    moveTerrainHandle = (x: number, y: number, identifier: number = 0) => {\n        if (this.draggingHandles[identifier]) {\n            const mouseCanvasPosition = new Point(\n                (x - this.canvas.offsetLeft) / this.canvas.offsetWidth * this.canvas.width,\n                (y - this.canvas.offsetTop) / this.canvas.offsetHeight * this.canvas.height\n            )\n\n            // console.log('MOVE', identifier, x, y);\n            \n            this.draggingHandles[identifier].x = mouseCanvasPosition.x;\n            this.draggingHandles[identifier].y = Math.max(Math.min(mouseCanvasPosition.y, this.minVerticalHeight()), this.maxVerticalHeight());\n        }\n    }\n    endDrag = (identifier: number = 0) => {\n        if (this.draggingHandles[identifier] !== undefined) {\n            // console.log('END', identifier);\n            \n            this.draggingHandles[identifier] = undefined;\n        }\n    }\n\n    resetPoints = () => {\n        this.points = [\n            new Point(this.areaDimensions.width - this.areaDimensions.width * (1 / 4), this.maxVerticalHeight()),\n            new Point(this.areaDimensions.width - this.areaDimensions.width * (3 / 4), this.minVerticalHeight())\n        ];\n    };\n\n    private addMouseEventListeners() {\n        // mouse events\n        this.canvas.addEventListener('mousedown', e => {\n            e.preventDefault();\n            this.startDrag(e.clientX, e.clientY)\n        }, false);\n        this.canvas.addEventListener('mousemove', e => {\n            e.preventDefault();\n            this.moveTerrainHandle(e.clientX, e.clientY)\n        }, false);\n        this.canvas.addEventListener('mouseup', e => {\n            e.preventDefault();\n            this.endDrag()\n        }, false);\n        this.canvas.addEventListener(\"touchstart\", e => {\n            e.preventDefault();\n\n            for (let i = 0; i < e.touches.length; i++) {\n                const touch = e.targetTouches.item(i);\n                if (touch) {\n                    this.startDrag(touch.clientX, touch.clientY, touch.identifier);\n                }\n            }\n        }, false);\n        this.canvas.addEventListener(\"touchend\", e => {\n            e.preventDefault();\n\n            for (let i = 0; i < e.changedTouches.length; i++) {\n                const touch = e.changedTouches.item(i);\n                this.endDrag(touch.identifier);\n            }\n        }, false);\n        this.canvas.addEventListener(\"touchcancel\", e => {\n            e.preventDefault();\n            for (let i = 0; i < e.changedTouches.length; i++) {\n                const touch = e.changedTouches.item(i);\n                this.endDrag(touch.identifier);\n            }\n        }, false);\n        this.canvas.addEventListener(\"touchmove\", e => {\n            e.preventDefault();\n\n            for (let i = 0; i < e.changedTouches.length; i++) {\n                const touch = e.changedTouches.item(i);\n                this.moveTerrainHandle(touch.clientX, touch.clientY, touch.identifier);\n            }\n        }, false);\n    }\n}\n","export default {\n    authentication: {\n        region: 'eu-west-1',\n        identityPoolId: '',\n        userPoolId: 'eu-west-1_4Bksp1ofg',\n        clientId: '2hl1svev13h8ejlg363871smcu',\n    },\n    api: {\n        invokeUrl: 'https://3jc3ha7w2d.execute-api.eu-west-1.amazonaws.com/prod'\n    }\n}","let AmazonCognitoIdentity = require('amazon-cognito-identity-js');\nimport AppConfig from \"./app-config\";\n\nexport class UserManagement {\n    getLoginDetails(): any {\n        return JSON.parse(localStorage.getItem('loginDetails'));\n    }\n\n    registerUser(email: string, password: string, nickname: string): void {\n        var poolData = {\n            UserPoolId: AppConfig.authentication.userPoolId,\n            ClientId: AppConfig.authentication.clientId\n        };\n\n        var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n        var attributeList = [];\n\n        var dataEmail = {\n            Name: 'email',\n            Value: email\n        };\n\n        var dataNickname = {\n            Name: 'nickname',\n            Value: nickname\n        };\n\n        var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(dataEmail);\n        var attributeNickname = new AmazonCognitoIdentity.CognitoUserAttribute(dataNickname);\n\n        attributeList.push(attributeEmail);\n        attributeList.push(attributeNickname);\n\n        userPool.signUp(email, password, attributeList, null, (error: any, result: any) => {\n            if (error) {\n                console.log(error);\n                return;\n            }\n\n            let cognitoUser = result.user;\n            console.log('Registered ' + cognitoUser.getUsername());\n        });\n\n        // UsernameExistsException\n    }\n\n    login(username: string, password: string) {\n        var authenticationData = {\n            Username: username,\n            Password: password,\n        };\n        var authenticationDetails = new AmazonCognitoIdentity.AuthenticationDetails(authenticationData);\n        var poolData = {\n            UserPoolId: AppConfig.authentication.userPoolId,\n            ClientId: AppConfig.authentication.clientId\n        };\n        var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n        var userData = {\n            Username: username,\n            Pool: userPool\n        };\n        var cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData);\n        cognitoUser.authenticateUser(authenticationDetails, {\n            onSuccess: (result: any) => {\n                localStorage.setItem('loginDetails', JSON.stringify({\n                    username: username,\n                    token: result.accessToken.jwtToken,\n                    refreshToken: result.refreshToken.token,\n                    idToken: result.idToken.jwtToken\n                }));\n            },\n\n            onFailure: (error: any) => {\n                console.log(error);\n            },\n\n        });\n    }\n\n\n    refreshSession() {\n        const loginDetails = JSON.parse(localStorage.getItem('loginDetails'));\n\n        var userPool = new AmazonCognitoIdentity.CognitoUserPool({\n            UserPoolId: AppConfig.authentication.userPoolId,\n            ClientId: AppConfig.authentication.clientId\n        });\n        var cognitoUser = new AmazonCognitoIdentity.CognitoUser({\n            Username: loginDetails.username,\n            Pool: userPool\n        });\n\n        if (!loginDetails) {\n            return;\n        }\n\n        var refreshToken = new AmazonCognitoIdentity.CognitoRefreshToken({\n            RefreshToken: loginDetails.refreshToken\n        });\n\n        cognitoUser.refreshSession(refreshToken, (error: any, result: any) => {\n            if (error) {\n                console.log(error);\n                return;\n            }\n\n            console.log(\"refresh\", result.accessToken.jwtToken);\n            localStorage.setItem('loginDetails', JSON.stringify({\n                ...loginDetails,\n                token: result.accessToken.jwtToken,\n                refreshToken: result.refreshToken.token,\n                idToken: result.idToken.jwtToken\n            }));\n        });\n    }\n}\n\n","const axios = require('axios');\nimport AppConfig from \"./app-config\";\nimport { UserManagement } from \"./user-management\";\n\nexport class Api {\n    userManagement: UserManagement;\n\n    constructor() {\n        this.userManagement = new UserManagement();\n    }\n\n    token(): string {\n        return this.userManagement.getLoginDetails().idToken;\n    }\n\n    // Save score\n    public submitScore(username: string, score: number, stats: string, startTime: Date, endTime: Date): Promise<any> {\n        console.log(username, score, stats);\n\n        const params = { \n            username,\n            score,\n            stats,\n            startTime: startTime.toISOString(),\n            endTime: endTime.toISOString() };\n        const options = {\n            headers: {\n                'Authorization': this.token()\n            }\n        };\n\n        return axios.post(`${AppConfig.api.invokeUrl}/digitonttusaveresult`, params, options);\n    }\n\n    public getTop100(): Promise<any[]> {\n        return axios.get(`${AppConfig.api.invokeUrl}/digitonttugettop100`);\n    }\n}","import { Clock } from \"./clock\";\nimport { Dimensions } from \"./dimensions\";\nimport { Player } from \"./player\";\nimport { Point } from \"./point\";\nimport { Present } from \"./present\";\nimport { Terrain } from \"./terrain\";\nimport { Sounds } from \"./sounds\"\nimport { UserManagement } from \"./user-management\";\nimport { Api } from \"./api\";\n\nlet canvas: HTMLCanvasElement = <HTMLCanvasElement>document.getElementById(\"game-area\");\nlet ctx: CanvasRenderingContext2D = canvas.getContext(\"2d\");\n\ncanvas.height = window.innerHeight;\ncanvas.width = window.innerWidth;\nlet areaHeight = canvas.height;\nlet areaWidth = canvas.width;\n\nconst gameDuration = 5;\nlet gameExtraTime = 0;\nlet terrain: Terrain;\nlet player: Player;\nlet presents: Present[];\nlet time: Date;\nlet startTime: Date;\nlet clock: Clock;\nlet highscore: number = JSON.parse(localStorage.getItem('highscore')) || 0;\nlet stats = JSON.parse(localStorage.getItem('stats')) || {\n    longestJump: 0, highestPoint: 0, gamesPlayed: 0, topSpeed: 0\n};\nlet sounds: Sounds = new Sounds();\n\n// Initialize user management object\nlet userManagement = new UserManagement();\n// userManagement.registerUser(\"jaakko.sadeharju@gmail.com\", \"kekkonen\", \"Jaakko\");\nuserManagement.login('jaakko.sadeharju@gmail.com', 'kekkonen');\n// userManagement.refreshSession();\n\n// Initialize api\nconst api = new Api();\n\nconst drawSky = (ctx: CanvasRenderingContext2D) => {\n    let bg = ctx.createLinearGradient(0, 0, 0, areaHeight);\n    bg.addColorStop(0, '#474');\n    bg.addColorStop(0.5, '#333');\n    bg.addColorStop(1, '#daa');\n    ctx.fillStyle = bg;\n    ctx.fillRect(0, 0, areaWidth, areaHeight);\n}\n\nconst setAreaDimensions = () => {\n    canvas.height = window.innerHeight;\n    canvas.width = window.innerWidth;\n\n    areaHeight = canvas.height;\n    areaWidth = canvas.width;\n\n    terrain.areaDimensions.width = canvas.width;\n    terrain.areaDimensions.height = canvas.height;\n    terrain.resetPoints();\n\n    document.getElementsByTagName('body')[0].style.height = window.innerHeight + 'px';\n    drawSky(ctx);\n}\n\nconst calculateFrame = () => {\n    // Calculate time\n    let t0 = time;\n    let t1 = new Date();\n    let dt = (t1.getTime() - t0.getTime()) / 1000;\n\n    if (dt > 1000) {\n        dt = 10;\n    }\n\n    player.calculateFrame(dt, presents.filter(p => p.collected));\n\n    time = t1;\n}\n\nconst draw = () => {\n    drawSky(ctx);\n    terrain.draw();\n\n    // Score\n    ctx.font = \"50px Josefin Sans\";\n    ctx.textAlign = \"right\";\n    ctx.fillText(`${presents.length - 1}`, areaWidth - 40, 60);\n\n\n    // Score\n    ctx.font = \"14px Josefin Sans\";\n    ctx.textAlign = \"right\";\n    ctx.fillText(`Pisin hyppy ${player.longestJump()} m`, areaWidth - 40, 100);\n    ctx.fillText(`Maksimikorkeus ${player.highestPoint()} m`, areaWidth - 40, 120);\n    ctx.fillText(`Huippunopeus ${player.topSpeed()} km/h`, areaWidth - 40, 140);\n\n    // Clock\n    if (startTime) {\n        clock.draw((gameDuration + gameExtraTime) * 1000 - (time.getTime() - startTime.getTime()));\n    }\n\n    player.draw(presents.filter(p => p.collected));\n    presents.forEach((p, i) => {\n        p.draw();\n    });\n}\n\nconst updateHtmlTargets = () => {\n    document.getElementById('result').innerText = (presents.length - 1).toString();\n    document.getElementById('high-score').innerText = highscore.toString();\n    document.getElementById('games-played').innerText = stats.gamesPlayed.toString();\n    document.getElementById('longest-jump').innerText = stats.longestJump.toString();\n    document.getElementById('highest-point').innerText = stats.highestPoint.toString();\n    document.getElementById('top-speed').innerText = stats.topSpeed.toString();\n};\n\nconst updateSoundButton = () => {\n    let soundButton = document.getElementById('sound');\n    if (sounds.enabled) {\n        soundButton.innerHTML = \"&#128266;\";\n        soundButton.classList.remove(\"muted\");\n    }\n    else {\n        soundButton.innerHTML = \"&#128263;\";\n        soundButton.classList.add(\"muted\");\n    }\n}\n\nconst initGame = () => {\n    terrain = new Terrain(canvas, new Dimensions(areaWidth, areaHeight));\n    clock = new Clock(ctx, terrain);\n    player = new Player(canvas, terrain, new Point(50, 600));\n    presents = [new Present(canvas, terrain)];\n    time = new Date();\n\n    updateHtmlTargets();\n    updateSoundButton();\n}\n\nconst startGame = () => {\n    initGame();\n    startTime = new Date();\n    gameExtraTime = 0;\n    time = startTime;\n\n    let interval = setInterval(() => {\n        if (startTime.getTime() > (new Date()).getTime() - (gameDuration + gameExtraTime) * 1000) {\n            calculateFrame();\n        }\n        else {\n            clearInterval(interval);\n        }\n    }, 5);\n\n    // sounds.stopMainTune();\n    sounds.startGameTune();\n}\n\nconst refresh = () => {\n    ctx.clearRect(0, 0, areaWidth, areaHeight);\n\n    const p = presents[presents.length - 1];\n    const playerSize = player.skiWidth;\n\n    if (new Point(player.onScreenX(), player.position.y - playerSize).distanceTo(p.position) < p.width * (3 / 2)) {\n        // Pick the present\n        p.collected = true;\n        presents.push(new Present(canvas, terrain));\n        let timeIncrement =\n            -1 +\n            // factor from x-speed\n            (terrain.areaDimensions.width / player.velocity.x) *\n            // dimension factor\n            (5 * terrain.areaDimensions.height / terrain.areaDimensions.width) *\n            // size factor\n            ((terrain.areaDimensions.width + terrain.areaDimensions.height) / 5000) *\n            // Time factor (half of the bonus every 30 s)\n            (1 / ((gameDuration + gameExtraTime) / 30));\n\n        timeIncrement = Math.min(10, timeIncrement);\n        gameExtraTime += timeIncrement;\n        clock.extendTime(timeIncrement);\n\n        sounds.playCollectSound();\n    }\n\n    draw();\n\n    if (startTime.getTime() > (new Date()).getTime() - (gameDuration + gameExtraTime) * 1000) {\n        requestAnimationFrame(refresh);\n    }\n    else {\n        // Game ended\n        const score = presents.length - 1;\n        document.getElementsByTagName('body')[0].classList.remove('started');\n        document.getElementById('result').innerText = score.toString();\n\n        sounds.stopGameTune();\n        // sounds.startMainTune();\n\n        // save the high score\n        highscore = Math.max(highscore, score);\n        localStorage.setItem('highscore', JSON.stringify(highscore));\n        document.getElementById('high-score').innerText = score.toString();\n\n        // Save stats\n        stats.gamesPlayed += 1;\n        stats.longestJump = Math.max(stats.longestJump || 0, player.longestJump());\n        stats.highestPoint = Math.max(stats.highestPoint || 0, player.highestPoint());\n        stats.topSpeed = Math.max(stats.topSpeed || 0, player.topSpeed());\n        localStorage.setItem('stats', JSON.stringify(stats));\n        updateHtmlTargets();\n\n        if (userManagement.getLoginDetails().username) {\n            const endTime = new Date();\n            api.submitScore(userManagement.getLoginDetails().username, score, stats, startTime, endTime)\n                .then((response: any) => {\n                    console.log(\"Saved\", response);\n                })\n                .catch((e: any) => console.log(\"Error saving results.\", e));\n        }\n    }\n};\n\ninitGame();\nsetAreaDimensions();\n\n// Draw first frame to the background\nsetTimeout(() => {\n    draw();\n}, 200);\n\nwindow.onresize = setAreaDimensions;\nwindow.onscroll = setAreaDimensions;\n\ndocument.getElementById('start').onclick = () => {\n    startGame();\n    document.getElementsByTagName('body')[0].classList.add('started');\n    requestAnimationFrame(refresh);\n}\n\nconst diveButton = document.getElementById('dive');\n\ndiveButton.addEventListener('mousedown', e => {\n    player.handleDiveButtonPress();\n}, false);\ndiveButton.addEventListener('mouseup', e => {\n    player.hanldeDiveButtonRelease();\n}, false);\n\ndiveButton.addEventListener('touchstart', e => {\n    player.handleDiveButtonPress();\n    diveButton.classList.add('active')\n    e.preventDefault();\n}, false);\ndiveButton.addEventListener('touchend', e => {\n    player.hanldeDiveButtonRelease();\n    diveButton.classList.remove('active')\n    e.preventDefault();\n}, false);\ndiveButton.addEventListener('touchcancel', e => {\n    player.hanldeDiveButtonRelease();\n    diveButton.classList.remove('active')\n    e.preventDefault();\n}, false);\n\n\nconst soundButton = document.getElementById('sound');\nsoundButton.addEventListener('click', e => {\n    sounds.toggleMute();\n\n    updateSoundButton();\n\n    e.preventDefault();\n}, false);\n\n\n// Update top list\nfunction refreshTop100(): void {\n    api.getTop100()\n        .then(({ data }: any) => data)\n        .then((rows: any[]) => {\n            let tbody: HTMLTableSectionElement = document.querySelector('#top-100 tbody');\n            tbody.innerHTML = \"\";\n\n            rows.forEach(row => {\n                let tr = tbody.insertRow();\n                [row.Nickname, row.Score, row.EndDate].forEach((e: string) => {\n                    let td = tr.insertCell();\n                    td.innerText = e;\n                    tr.appendChild(td);\n                });\n\n                tbody.appendChild(tr);\n            });\n            tbody.append();\n        }).catch((e: any) => console.log(\"Error getting top 100\", e));\n}\nrefreshTop100();","// Royalty free music thanks to https://soundcloud.com/ashamaluevmusic\n\nexport class Sounds {\n    constructor() {\n        this.enabled = JSON.parse(localStorage.getItem('soundsEnabled')) !== false;\n    }\n\n    enabled: boolean;\n    mainTune: HTMLAudioElement;\n    gameTune: HTMLAudioElement;\n    mainVolume = 0.15;\n    gameVolume = 0.15;\n    fxVolume = 1;\n\n    startGameTune = () => {\n        // Stop if running already;\n        if (this.gameTune) {\n            this.stopGameTune();\n        }\n\n        this.gameTune = new Audio('/audio/sleighride.mp3');\n        // this.gameTune = new Audio('/audio/Rush%20Coil%20-%208-bit%20Christmas/Rush%20Coil%20-%208-bit%20Christmas%20-%2004%20Little%20Drummer%20Boy.mp3');\n        this.gameTune.loop = true;\n        this.gameTune.volume = this.enabled ? this.gameVolume : 0;\n        this.gameTune.play();\n    }\n\n    stopGameTune = () => {\n        this.stopTune(this.gameTune);\n    }\n\n    startMainTune = () => {\n        // Stop if running already;\n        if (this.mainTune) {\n            this.stopMainTune();\n        }\n\n        this.mainTune = new Audio('/audio/Rush%20Coil%20-%208-bit%20Christmas/Rush%20Coil%20-%208-bit%20Christmas%20-%2012%20Auld%20Lang%20Syne.mp3');\n        this.mainTune.loop = true;\n        this.mainTune.volume = this.enabled ? this.mainVolume : 0;\n        this.mainTune.play();\n    }\n\n    stopMainTune = () => {\n        this.stopTune(this.mainTune);\n    }\n\n    stopTune = (tune: HTMLAudioElement) => {\n        // Stop the game tune\n        let h = setInterval(() => {\n            if (tune) {\n                tune.volume -= Math.min(0.01, tune.volume);\n\n                if (tune.volume <= 0) {\n                    tune.pause();\n                    clearInterval(h);\n                }\n            }\n        }, 100)\n    }\n\n    playCollectSound = () => {\n        if (this.enabled) {\n            let collectSound = new Audio('/audio/jingle.mp3');\n            collectSound.volume = this.fxVolume;\n            collectSound.play();\n        }\n    }\n\n    toggleMute = () => {\n        this.enabled = !this.enabled;\n\n        localStorage.setItem('soundsEnabled', this.enabled ? 'true' : 'false');\n\n        if (this.mainTune) {\n            this.mainTune.volume = this.enabled ? this.mainVolume : 0;\n        }\n        if (this.gameTune) {\n            this.gameTune.volume = this.enabled ? this.gameVolume : 0;\n        }\n    }\n}"],"sourceRoot":""}